@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Touch targets for interactive elements only */
  button,
  input[type="submit"],
  input[type="button"] {
    min-height: 44px;
    min-width: 44px;
  }

  /* Prevent iOS zoom on input focus */
  @media (max-width: 768px) {
    input,
    select,
    textarea {
      font-size: 16px;
    }
  }
}

@layer components {
  /* Cards and Containers */
  .card {
    @apply bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300;
  }

  .card-inner {
    @apply p-6;
  }

  /* Buttons */
  .btn {
    @apply inline-flex items-center justify-center px-4 py-2 rounded-lg font-medium transition-colors cursor-pointer;
  }

  .btn-primary {
    @apply btn bg-gradient-to-br from-brown-700 to-brown-900 text-white hover:from-brown-800 hover:to-brown-900 shadow-md;
  }

  .btn-secondary {
    @apply btn bg-brown-300 text-brown-900 hover:bg-brown-400;
  }

  .btn-link {
    @apply text-brown-700 hover:text-brown-900 font-medium underline transition-colors cursor-pointer;
  }

  .btn-danger {
    @apply text-red-600 hover:text-red-800 font-medium underline transition-colors cursor-pointer;
  }

  /* Forms */
  .form-label {
    @apply block text-sm font-medium text-brown-900 mb-2;
  }

  .form-input {
    @apply rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-2 px-3 bg-white;
  }

  .form-input-lg {
    @apply form-input py-3 px-4;
  }

  .form-select {
    @apply form-input truncate max-w-full;
  }

  .form-textarea {
    @apply form-input min-h-[100px];
  }

  /* Tables */
  .table-container {
    @apply bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md overflow-hidden border border-brown-300;
  }

  .table {
    @apply min-w-full divide-y divide-brown-300;
  }

  .table-header {
    @apply bg-brown-200;
  }

  .table-th {
    @apply px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider;
  }

  .table-body {
    @apply bg-brown-100 divide-y divide-brown-200;
  }

  .table-row {
    @apply hover:bg-brown-100 transition-colors;
  }

  .table-td {
    @apply px-6 py-4 whitespace-nowrap text-sm text-brown-800;
  }

  /* Modals */
  .modal-backdrop {
    @apply fixed inset-0 bg-black/40 backdrop-blur-sm flex items-center justify-center z-50 p-4;
  }

  .modal-content {
    @apply bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-2xl p-6 max-w-md w-full border border-brown-300 max-h-[90vh] overflow-y-auto;
  }

  .modal-title {
    @apply text-xl font-semibold text-brown-900 mb-4;
  }

  /* Typography */
  .section-title {
    @apply text-2xl font-bold text-brown-900 mb-4;
  }

  .page-title {
    @apply text-3xl font-bold text-brown-900;
  }

  /* Feed Components */
  .feed-card {
    @apply bg-gradient-to-br from-brown-50 to-brown-100 rounded-lg shadow-md border border-brown-200 p-4 hover:shadow-lg transition-shadow;
  }

  .feed-content-box {
    @apply bg-white/60 backdrop-blur rounded-lg p-4 border border-brown-200;
  }

  .feed-content-box-sm {
    @apply bg-white/60 backdrop-blur rounded-lg p-3 border border-brown-200;
  }

  /* Avatar */
  .avatar {
    @apply w-10 h-10 rounded-full object-cover;
  }

  .avatar-placeholder {
    @apply w-10 h-10 rounded-full bg-brown-300 flex items-center justify-center;
  }

  .avatar-ring {
    @apply hover:ring-2 hover:ring-brown-600 transition;
  }

  /* Text Utilities */
  .text-helper {
    @apply text-sm text-brown-700 mt-1;
  }

  .text-meta {
    @apply text-xs text-brown-600;
  }

  .text-meta-sm {
    @apply text-sm text-brown-600;
  }

  .text-label {
    @apply text-brown-600;
  }

  /* Badges */
  .badge-rating {
    @apply inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-900 flex-shrink-0;
  }

  .badge-rating-sm {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-900;
  }

  /* Links */
  .link {
    @apply text-brown-700 hover:text-brown-900 hover:underline transition-colors;
  }

  .link-bold {
    @apply font-medium text-brown-700 hover:text-brown-900 hover:underline transition-colors;
  }
}

/* HTMX loading state */
.htmx-swapping {
  opacity: 0;
  transition: opacity 0.3s ease-out;
}
