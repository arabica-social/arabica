var lr=Object.defineProperty;var rr=(n,e,t)=>e in n?lr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var $t=(n,e,t)=>rr(n,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(i){if(i.ep)return;i.ep=!0;const r=t(i);fetch(i.href,r)}})();function W(){}function tn(n,e){for(const t in e)n[t]=e[t];return n}function $l(n){return n()}function pn(){return Object.create(null)}function ce(n){n.forEach($l)}function Vt(n){return typeof n=="function"}function We(n,e){return n!=n?e==e:n!==e||n&&typeof n=="object"||typeof n=="function"}let It;function gt(n,e){return n===e?!0:(It||(It=document.createElement("a")),It.href=e,n===It.href)}function or(n){return Object.keys(n).length===0}function ir(n,...e){if(n==null){for(const l of e)l(void 0);return W}const t=n.subscribe(...e);return t.unsubscribe?()=>t.unsubscribe():t}function ut(n,e,t){n.$$.on_destroy.push(ir(e,t))}function sr(n,e,t,l){if(n){const i=er(n,e,t,l);return n[0](i)}}function er(n,e,t,l){return n[1]&&l?tn(t.ctx.slice(),n[1](l(e))):t.ctx}function ar(n,e,t,l){return n[2],e.dirty}function ur(n,e,t,l,i,r){if(i){const s=er(e,t,l,r);n.p(s,i)}}function cr(n){if(n.ctx.length>32){const e=[],t=n.ctx.length/32;for(let l=0;l<t;l++)e[l]=-1;return e}return-1}const fr=typeof window<"u"?window:typeof globalThis<"u"?globalThis:global;function o(n,e){n.appendChild(e)}function y(n,e,t){n.insertBefore(e,t||null)}function k(n){n.parentNode&&n.parentNode.removeChild(n)}function Ge(n,e){for(let t=0;t<n.length;t+=1)n[t]&&n[t].d(e)}function f(n){return document.createElement(n)}function _n(n){return document.createElementNS("http://www.w3.org/2000/svg",n)}function C(n){return document.createTextNode(n)}function w(){return C(" ")}function ft(){return C("")}function z(n,e,t,l){return n.addEventListener(e,t,l),()=>n.removeEventListener(e,t,l)}function Ue(n){return function(e){return e.preventDefault(),n.call(this,e)}}function dr(n){return function(e){return e.stopPropagation(),n.call(this,e)}}function a(n,e,t){t==null?n.removeAttribute(e):n.getAttribute(e)!==t&&n.setAttribute(e,t)}function ot(n){return n===""?null:+n}function br(n){return Array.from(n.childNodes)}function j(n,e){e=""+e,n.data!==e&&(n.data=e)}function H(n,e){n.value=e??""}function Le(n,e,t){for(let l=0;l<n.options.length;l+=1){const i=n.options[l];if(i.__value===e){i.selected=!0;return}}(!t||e!==void 0)&&(n.selectedIndex=-1)}function at(n){const e=n.querySelector(":checked");return e&&e.__value}function mn(n,e){return new n(e)}let Rt;function Ft(n){Rt=n}function pr(){if(!Rt)throw new Error("Function called outside component initialization");return Rt}function vt(n){pr().$$.on_mount.push(n)}const Ot=[],ct=[];let Mt=[];const nn=[],_r=Promise.resolve();let ln=!1;function mr(){ln||(ln=!0,_r.then(tr))}function rt(n){Mt.push(n)}function mt(n){nn.push(n)}const en=new Set;let Tt=0;function tr(){if(Tt!==0)return;const n=Rt;do{try{for(;Tt<Ot.length;){const e=Ot[Tt];Tt++,Ft(e),wr(e.$$)}}catch(e){throw Ot.length=0,Tt=0,e}for(Ft(null),Ot.length=0,Tt=0;ct.length;)ct.pop()();for(let e=0;e<Mt.length;e+=1){const t=Mt[e];en.has(t)||(en.add(t),t())}Mt.length=0}while(Ot.length);for(;nn.length;)nn.pop()();ln=!1,en.clear(),Ft(n)}function wr(n){if(n.fragment!==null){n.update(),ce(n.before_update);const e=n.dirty;n.dirty=[-1],n.fragment&&n.fragment.p(n.ctx,e),n.after_update.forEach(rt)}}function hr(n){const e=[],t=[];Mt.forEach(l=>n.indexOf(l)===-1?e.push(l):t.push(l)),t.forEach(l=>l()),Mt=e}const qt=new Set;let xt;function jt(){xt={r:0,c:[],p:xt}}function Ht(){xt.r||ce(xt.c),xt=xt.p}function ve(n,e){n&&n.i&&(qt.delete(n),n.i(e))}function Oe(n,e,t,l){if(n&&n.o){if(qt.has(n))return;qt.add(n),xt.c.push(()=>{qt.delete(n),l&&(t&&n.d(1),l())}),n.o(e)}else l&&l()}function le(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function gr(n,e){Oe(n,1,1,()=>{e.delete(n.key)})}function vr(n,e,t,l,i,r,s,c,u,b,d,p){let _=n.length,m=r.length,h=_;const g={};for(;h--;)g[n[h].key]=h;const B=[],v=new Map,x=new Map,S=[];for(h=m;h--;){const L=p(i,r,h),O=t(L);let D=s.get(O);D?S.push(()=>D.p(L,e)):(D=b(O,L),D.c()),v.set(O,B[h]=D),O in g&&x.set(O,Math.abs(h-g[O]))}const A=new Set,N=new Set;function P(L){ve(L,1),L.m(c,d),s.set(L.key,L),d=L.first,m--}for(;_&&m;){const L=B[m-1],O=n[_-1],D=L.key,F=O.key;L===O?(d=L.first,_--,m--):v.has(F)?!s.has(D)||A.has(D)?P(L):N.has(F)?_--:x.get(D)>x.get(F)?(N.add(D),P(L)):(A.add(F),_--):(u(O,s),_--)}for(;_--;){const L=n[_];v.has(L.key)||u(L,s)}for(;m;)P(B[m-1]);return ce(S),B}function wn(n,e){const t={},l={},i={$$scope:1};let r=n.length;for(;r--;){const s=n[r],c=e[r];if(c){for(const u in s)u in c||(l[u]=1);for(const u in c)i[u]||(t[u]=c[u],i[u]=1);n[r]=c}else for(const u in s)i[u]=1}for(const s in l)s in t||(t[s]=void 0);return t}function hn(n){return typeof n=="object"&&n!==null?n:{}}function wt(n,e,t){const l=n.$$.props[e];l!==void 0&&(n.$$.bound[l]=t,t(n.$$.ctx[l]))}function it(n){n&&n.c()}function nt(n,e,t){const{fragment:l,after_update:i}=n.$$;l&&l.m(e,t),rt(()=>{const r=n.$$.on_mount.map($l).filter(Vt);n.$$.on_destroy?n.$$.on_destroy.push(...r):ce(r),n.$$.on_mount=[]}),i.forEach(rt)}function lt(n,e){const t=n.$$;t.fragment!==null&&(hr(t.after_update),ce(t.on_destroy),t.fragment&&t.fragment.d(e),t.on_destroy=t.fragment=null,t.ctx=[])}function kr(n,e){n.$$.dirty[0]===-1&&(Ot.push(n),mr(),n.$$.dirty.fill(0)),n.$$.dirty[e/31|0]|=1<<e%31}function Qe(n,e,t,l,i,r,s=null,c=[-1]){const u=Rt;Ft(n);const b=n.$$={fragment:null,ctx:[],props:r,update:W,not_equal:i,bound:pn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:pn(),dirty:c,skip_bound:!1,root:e.target||u.$$.root};s&&s(b.root);let d=!1;if(b.ctx=t?t(n,e.props||{},(p,_,...m)=>{const h=m.length?m[0]:_;return b.ctx&&i(b.ctx[p],b.ctx[p]=h)&&(!b.skip_bound&&b.bound[p]&&b.bound[p](h),d&&kr(n,p)),_}):[],b.update(),d=!0,ce(b.before_update),b.fragment=l?l(b.ctx):!1,e.target){if(e.hydrate){const p=br(e.target);b.fragment&&b.fragment.l(p),p.forEach(k)}else b.fragment&&b.fragment.c();e.intro&&ve(n.$$.fragment),nt(n,e.target,e.anchor),tr()}Ft(u)}class Xe{constructor(){$t(this,"$$");$t(this,"$$set")}$destroy(){lt(this,1),this.$destroy=W}$on(e,t){if(!Vt(t))return W;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(t),()=>{const i=l.indexOf(t);i!==-1&&l.splice(i,1)}}$set(e){this.$$set&&!or(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const yr="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(yr);function xr(n,e){if(n instanceof RegExp)return{keys:!1,pattern:n};var t,l,i,r,s=[],c="",u=n.split("/");for(u[0]||u.shift();i=u.shift();)t=i[0],t==="*"?(s.push("wild"),c+="/(.*)"):t===":"?(l=i.indexOf("?",1),r=i.indexOf(".",1),s.push(i.substring(1,~l?l:~r?r:i.length)),c+=~l&&!~r?"(?:/([^/]+?))?":"/([^/]+?)",~r&&(c+=(~l?"?":"")+"\\"+i.substring(r))):c+="/"+i;return{keys:s,pattern:new RegExp("^"+c+"/?$","i")}}function Cr(n,e){var t,l,i=[],r={},s=r.format=function(c){return c&&(c="/"+c.replace(/^\/|\/$/g,""),t.test(c)&&c.replace(t,"/"))};return n="/"+(n||"").replace(/^\/|\/$/g,""),t=n=="/"?/^\/+/:new RegExp("^\\"+n+"(?=\\/|$)\\/?","i"),r.route=function(c,u){c[0]=="/"&&!t.test(c)&&(c=n+c),history[(c===l||u?"replace":"push")+"State"](c,null,c)},r.on=function(c,u){return(c=xr(c)).fn=u,i.push(c),r},r.run=function(c){var u=0,b={},d,p;if(c=s(c||location.pathname)){for(c=c.match(/[^\?#]*/)[0],l=c;u<i.length;u++)if(d=(p=i[u]).pattern.exec(c)){for(u=0;u<p.keys.length;)b[p.keys[u]]=d[++u]||null;return p.fn(b),r}}return r},r.listen=function(c){gn("push"),gn("replace");function u(d){r.run()}function b(d){var p=d.target.closest("a"),_=p&&p.getAttribute("href");d.ctrlKey||d.metaKey||d.altKey||d.shiftKey||d.button||d.defaultPrevented||!_||p.target||p.host!==location.host||_[0]=="#"||(_[0]!="/"||t.test(_))&&(d.preventDefault(),r.route(_))}return addEventListener("popstate",u),addEventListener("replacestate",u),addEventListener("pushstate",u),addEventListener("click",b),r.unlisten=function(){removeEventListener("popstate",u),removeEventListener("replacestate",u),removeEventListener("pushstate",u),removeEventListener("click",b)},r.run(c)},r}function gn(n,e){history[n]||(history[n]=n,e=history[n+="State"],history[n]=function(t){var l=new Event(n.toLowerCase());return l.uri=t,e.apply(this,arguments),dispatchEvent(l)})}const Yt=Cr("/");function _e(n){Yt.route(n)}function vn(){window.history.back()}const Lt=[];function nr(n,e=W){let t;const l=new Set;function i(c){if(We(n,c)&&(n=c,t)){const u=!Lt.length;for(const b of l)b[1](),Lt.push(b,n);if(u){for(let b=0;b<Lt.length;b+=2)Lt[b][0](Lt[b+1]);Lt.length=0}}}function r(c){i(c(n))}function s(c,u=W){const b=[c,u];return l.add(b),l.size===1&&(t=e(i,r)||W),c(n),()=>{l.delete(b),l.size===0&&t&&(t(),t=null)}}return{set:i,update:r,subscribe:s}}class Ut extends Error{constructor(e,t,l){super(e),this.name="APIError",this.status=t,this.response=l}}async function Wt(n,e={}){const t={credentials:"same-origin",headers:{"Content-Type":"application/json",...e.headers},...e};try{const l=await fetch(n,t);if(l.status===401||l.status===403){const r=["/","/login","/about","/terms"],s=["/api/feed-json","/api/resolve-handle","/api/search-actors","/api/me"],c=window.location.pathname,u=s.some(b=>n.includes(b));throw!r.includes(c)&&!u&&(window.location.href="/login"),new Ut("Authentication required",l.status,l)}if(!l.ok){const r=await l.text();throw new Ut(r||`Request failed: ${l.statusText}`,l.status,l)}const i=l.headers.get("content-type");return!i||!i.includes("application/json")?null:await l.json()}catch(l){throw l instanceof Ut?l:new Ut(`Network error: ${l.message}`,0,null)}}const ge={get:n=>Wt(n,{method:"GET"}),post:(n,e)=>Wt(n,{method:"POST",body:JSON.stringify(e)}),put:(n,e)=>Wt(n,{method:"PUT",body:JSON.stringify(e)}),delete:n=>Wt(n,{method:"DELETE"})};function Br(){const{subscribe:n,set:e}=nr({isAuthenticated:!1,user:null,loading:!0});return{subscribe:n,async checkAuth(){try{const t=await ge.get("/api/me");e({isAuthenticated:!0,user:t,loading:!1})}catch{e({isAuthenticated:!1,user:null,loading:!1})}},async logout(){try{await ge.post("/logout",{}),e({isAuthenticated:!1,user:null,loading:!1}),window.location.href="/"}catch(t){console.error("Logout failed:",t)}},clear(){e({isAuthenticated:!1,user:null,loading:!1})}}}const pt=Br();function Ar(n){let e;return{c(){e=f("div"),e.innerHTML='<span class="text-brown-600 text-sm">?</span>',a(e,"class","w-10 h-10 rounded-full bg-brown-300 flex items-center justify-center hover:ring-2 hover:ring-brown-600 transition")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Sr(n){let e,t;return{c(){e=f("img"),gt(e.src,t=rn(n[0].Author.avatar))||a(e,"src",t),a(e,"alt",""),a(e,"class","w-10 h-10 rounded-full object-cover hover:ring-2 hover:ring-brown-600 transition")},m(l,i){y(l,e,i)},p(l,i){i&1&&!gt(e.src,t=rn(l[0].Author.avatar))&&a(e,"src",t)},d(l){l&&k(e)}}}function kn(n){let e,t=n[0].Author.displayName+"",l,i,r,s;return{c(){e=f("a"),l=C(t),a(e,"href",i="/profile/"+n[0].Author.handle),a(e,"class","font-medium text-brown-900 truncate hover:text-brown-700 hover:underline")},m(c,u){y(c,e,u),o(e,l),r||(s=z(e,"click",Ue(n[2])),r=!0)},p(c,u){u&1&&t!==(t=c[0].Author.displayName+"")&&j(l,t),u&1&&i!==(i="/profile/"+c[0].Author.handle)&&a(e,"href",i)},d(c){c&&k(e),r=!1,s()}}}function Nr(n){let e=n[0].Action+"",t;return{c(){t=C(e)},m(l,i){y(l,t,i)},p(l,i){i&1&&e!==(e=l[0].Action+"")&&j(t,e)},d(l){l&&k(t)}}}function Tr(n){let e,t,l,i,r,s,c;return{c(){e=f("span"),e.textContent="added a",t=w(),l=f("a"),i=C("new brew"),a(l,"href",r="/brews/"+n[0].Author.did+"/"+n[0].Brew.rkey),a(l,"class","font-semibold text-brown-800 hover:text-brown-900 hover:underline cursor-pointer")},m(u,b){y(u,e,b),y(u,t,b),y(u,l,b),o(l,i),s||(c=z(l,"click",Ue(n[4])),s=!0)},p(u,b){b&1&&r!==(r="/brews/"+u[0].Author.did+"/"+u[0].Brew.rkey)&&a(l,"href",r)},d(u){u&&(k(e),k(t),k(l)),s=!1,c()}}}function Lr(n){let e,t,l,i=n[0].Brewer.name+"",r,s,c=n[0].Brewer.brewer_type&&yn(n);return{c(){e=f("div"),t=f("div"),l=C("‚òï "),r=C(i),s=w(),c&&c.c(),a(t,"class","font-semibold text-brown-900"),a(e,"class","bg-white/60 backdrop-blur rounded-lg p-3 border border-brown-200")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,r),o(e,s),c&&c.m(e,null)},p(u,b){b&1&&i!==(i=u[0].Brewer.name+"")&&j(r,i),u[0].Brewer.brewer_type?c?c.p(u,b):(c=yn(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(u){u&&k(e),c&&c.d()}}}function Or(n){let e,t,l,i=n[0].Grinder.name+"",r,s,c=n[0].Grinder.grinder_type&&xn(n);return{c(){e=f("div"),t=f("div"),l=C("‚öôÔ∏è "),r=C(i),s=w(),c&&c.c(),a(t,"class","font-semibold text-brown-900"),a(e,"class","bg-white/60 backdrop-blur rounded-lg p-3 border border-brown-200")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,r),o(e,s),c&&c.m(e,null)},p(u,b){b&1&&i!==(i=u[0].Grinder.name+"")&&j(r,i),u[0].Grinder.grinder_type?c?c.p(u,b):(c=xn(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(u){u&&k(e),c&&c.d()}}}function Mr(n){let e,t,l,i=n[0].Roaster.name+"",r,s,c=n[0].Roaster.location&&Cn(n);return{c(){e=f("div"),t=f("div"),l=C("üè≠ "),r=C(i),s=w(),c&&c.c(),a(t,"class","font-semibold text-brown-900"),a(e,"class","bg-white/60 backdrop-blur rounded-lg p-3 border border-brown-200")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,r),o(e,s),c&&c.m(e,null)},p(u,b){b&1&&i!==(i=u[0].Roaster.name+"")&&j(r,i),u[0].Roaster.location?c?c.p(u,b):(c=Cn(u),c.c(),c.m(e,null)):c&&(c.d(1),c=null)},d(u){u&&k(e),c&&c.d()}}}function Er(n){let e,t,l=(n[0].Bean.name||n[0].Bean.origin)+"",i,r,s=n[0].Bean.origin&&Bn(n);return{c(){e=f("div"),t=f("div"),i=C(l),r=w(),s&&s.c(),a(t,"class","font-semibold text-brown-900"),a(e,"class","bg-white/60 backdrop-blur rounded-lg p-3 border border-brown-200")},m(c,u){y(c,e,u),o(e,t),o(t,i),o(e,r),s&&s.m(e,null)},p(c,u){u&1&&l!==(l=(c[0].Bean.name||c[0].Bean.origin)+"")&&j(i,l),c[0].Bean.origin?s?s.p(c,u):(s=Bn(c),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(c){c&&k(e),s&&s.d()}}}function Pr(n){let e,t,l,i,r=Kt(n[0].Brew.rating),s,c,u=n[0].Brew.bean&&An(n),b=r&&Mn(n),d=(n[0].Brew.brewer_obj||n[0].Brew.method)&&En(n),p=n[0].Brew.tasting_notes&&Pn(n);return{c(){e=f("div"),t=f("div"),l=f("div"),u&&u.c(),i=w(),b&&b.c(),s=w(),d&&d.c(),c=w(),p&&p.c(),a(l,"class","flex-1 min-w-0"),a(t,"class","flex items-start justify-between gap-3 mb-3"),a(e,"class","bg-white/60 backdrop-blur rounded-lg p-4 border border-brown-200")},m(_,m){y(_,e,m),o(e,t),o(t,l),u&&u.m(l,null),o(t,i),b&&b.m(t,null),o(e,s),d&&d.m(e,null),o(e,c),p&&p.m(e,null)},p(_,m){_[0].Brew.bean?u?u.p(_,m):(u=An(_),u.c(),u.m(l,null)):u&&(u.d(1),u=null),m&1&&(r=Kt(_[0].Brew.rating)),r?b?b.p(_,m):(b=Mn(_),b.c(),b.m(t,null)):b&&(b.d(1),b=null),_[0].Brew.brewer_obj||_[0].Brew.method?d?d.p(_,m):(d=En(_),d.c(),d.m(e,c)):d&&(d.d(1),d=null),_[0].Brew.tasting_notes?p?p.p(_,m):(p=Pn(_),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(_){_&&k(e),u&&u.d(),b&&b.d(),d&&d.d(),p&&p.d()}}}function yn(n){let e,t=n[0].Brewer.brewer_type+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","text-sm text-brown-700")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&1&&t!==(t=i[0].Brewer.brewer_type+"")&&j(l,t)},d(i){i&&k(e)}}}function xn(n){let e,t=n[0].Grinder.grinder_type+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","text-sm text-brown-700")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&1&&t!==(t=i[0].Grinder.grinder_type+"")&&j(l,t)},d(i){i&&k(e)}}}function Cn(n){let e,t,l=n[0].Roaster.location+"",i;return{c(){e=f("div"),t=C("üìç "),i=C(l),a(e,"class","text-sm text-brown-700")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[0].Roaster.location+"")&&j(i,l)},d(r){r&&k(e)}}}function Bn(n){let e,t,l=n[0].Bean.origin+"",i;return{c(){e=f("div"),t=C("üìç "),i=C(l),a(e,"class","text-sm text-brown-700")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[0].Bean.origin+"")&&j(i,l)},d(r){r&&k(e)}}}function An(n){var B;let e,t=(n[0].Brew.bean.name||n[0].Brew.bean.origin)+"",l,i,r,s,c,u,b,d=Kt(n[0].Brew.coffee_amount),p=((B=n[0].Brew.bean.roaster)==null?void 0:B.name)&&Sn(n),_=n[0].Brew.bean.origin&&Nn(n),m=n[0].Brew.bean.roast_level&&Tn(n),h=n[0].Brew.bean.process&&Ln(n),g=d&&On(n);return{c(){e=f("div"),l=C(t),i=w(),p&&p.c(),r=w(),s=f("div"),_&&_.c(),c=w(),m&&m.c(),u=w(),h&&h.c(),b=w(),g&&g.c(),a(e,"class","font-bold text-brown-900 text-base"),a(s,"class","text-xs text-brown-600 mt-1 flex flex-wrap gap-x-2 gap-y-0.5")},m(v,x){y(v,e,x),o(e,l),y(v,i,x),p&&p.m(v,x),y(v,r,x),y(v,s,x),_&&_.m(s,null),o(s,c),m&&m.m(s,null),o(s,u),h&&h.m(s,null),o(s,b),g&&g.m(s,null)},p(v,x){var S;x&1&&t!==(t=(v[0].Brew.bean.name||v[0].Brew.bean.origin)+"")&&j(l,t),(S=v[0].Brew.bean.roaster)!=null&&S.name?p?p.p(v,x):(p=Sn(v),p.c(),p.m(r.parentNode,r)):p&&(p.d(1),p=null),v[0].Brew.bean.origin?_?_.p(v,x):(_=Nn(v),_.c(),_.m(s,c)):_&&(_.d(1),_=null),v[0].Brew.bean.roast_level?m?m.p(v,x):(m=Tn(v),m.c(),m.m(s,u)):m&&(m.d(1),m=null),v[0].Brew.bean.process?h?h.p(v,x):(h=Ln(v),h.c(),h.m(s,b)):h&&(h.d(1),h=null),x&1&&(d=Kt(v[0].Brew.coffee_amount)),d?g?g.p(v,x):(g=On(v),g.c(),g.m(s,null)):g&&(g.d(1),g=null)},d(v){v&&(k(e),k(i),k(r),k(s)),p&&p.d(v),_&&_.d(),m&&m.d(),h&&h.d(),g&&g.d()}}}function Sn(n){let e,t,l,i=n[0].Brew.bean.roaster.name+"",r;return{c(){e=f("div"),t=f("span"),l=C("üè≠ "),r=C(i),a(t,"class","font-medium"),a(e,"class","text-sm text-brown-700 mt-0.5")},m(s,c){y(s,e,c),o(e,t),o(t,l),o(t,r)},p(s,c){c&1&&i!==(i=s[0].Brew.bean.roaster.name+"")&&j(r,i)},d(s){s&&k(e)}}}function Nn(n){let e,t,l=n[0].Brew.bean.origin+"",i;return{c(){e=f("span"),t=C("üìç "),i=C(l),a(e,"class","inline-flex items-center gap-0.5")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[0].Brew.bean.origin+"")&&j(i,l)},d(r){r&&k(e)}}}function Tn(n){let e,t,l=n[0].Brew.bean.roast_level+"",i;return{c(){e=f("span"),t=C("üî• "),i=C(l),a(e,"class","inline-flex items-center gap-0.5")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[0].Brew.bean.roast_level+"")&&j(i,l)},d(r){r&&k(e)}}}function Ln(n){let e,t,l=n[0].Brew.bean.process+"",i;return{c(){e=f("span"),t=C("üå± "),i=C(l),a(e,"class","inline-flex items-center gap-0.5")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[0].Brew.bean.process+"")&&j(i,l)},d(r){r&&k(e)}}}function On(n){let e,t,l=n[0].Brew.coffee_amount+"",i,r;return{c(){e=f("span"),t=C("‚öñÔ∏è "),i=C(l),r=C("g"),a(e,"class","inline-flex items-center gap-0.5")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[0].Brew.coffee_amount+"")&&j(i,l)},d(s){s&&k(e)}}}function Mn(n){let e,t,l=n[0].Brew.rating+"",i,r;return{c(){e=f("span"),t=C("‚≠ê "),i=C(l),r=C("/10"),a(e,"class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-900 flex-shrink-0")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[0].Brew.rating+"")&&j(i,l)},d(s){s&&k(e)}}}function En(n){var c;let e,t,l,i,r=(((c=n[0].Brew.brewer_obj)==null?void 0:c.name)||n[0].Brew.method)+"",s;return{c(){e=f("div"),t=f("span"),t.textContent="Brewer:",l=w(),i=f("span"),s=C(r),a(t,"class","text-xs text-brown-600"),a(i,"class","text-sm font-semibold text-brown-900"),a(e,"class","mb-2")},m(u,b){y(u,e,b),o(e,t),o(e,l),o(e,i),o(i,s)},p(u,b){var d;b&1&&r!==(r=(((d=u[0].Brew.brewer_obj)==null?void 0:d.name)||u[0].Brew.method)+"")&&j(s,r)},d(u){u&&k(e)}}}function Pn(n){let e,t,l=n[0].Brew.tasting_notes+"",i,r;return{c(){e=f("div"),t=C('"'),i=C(l),r=C('"'),a(e,"class","mt-2 text-sm text-brown-800 italic border-l-2 border-brown-300 pl-3")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[0].Brew.tasting_notes+"")&&j(i,l)},d(s){s&&k(e)}}}function Dr(n){let e,t,l,i,r,s,c,u,b,d,p,_=n[0].Author.handle+"",m,h,g,B,v=n[0].TimeAgo+"",x,S,A,N,P,L;function O(I,Y){return Y&1&&(i=null),i==null&&(i=!!rn(I[0].Author.avatar)),i?Sr:Ar}let D=O(n,-1),F=D(n),G=n[0].Author.displayName&&kn(n);function E(I,Y){return I[0].RecordType==="brew"&&I[0].Brew?Tr:Nr}let T=E(n),R=T(n);function V(I,Y){if(I[0].RecordType==="brew"&&I[0].Brew)return Pr;if(I[0].RecordType==="bean"&&I[0].Bean)return Er;if(I[0].RecordType==="roaster"&&I[0].Roaster)return Mr;if(I[0].RecordType==="grinder"&&I[0].Grinder)return Or;if(I[0].RecordType==="brewer"&&I[0].Brewer)return Lr}let X=V(n),J=X&&X(n);return{c(){e=f("div"),t=f("div"),l=f("a"),F.c(),s=w(),c=f("div"),u=f("div"),G&&G.c(),b=w(),d=f("a"),p=C("@"),m=C(_),g=w(),B=f("span"),x=C(v),S=w(),A=f("div"),R.c(),N=w(),J&&J.c(),a(l,"href",r="/profile/"+n[0].Author.handle),a(l,"class","flex-shrink-0"),a(d,"href",h="/profile/"+n[0].Author.handle),a(d,"class","text-brown-600 text-sm truncate hover:text-brown-700 hover:underline"),a(u,"class","flex items-center gap-2"),a(B,"class","text-brown-500 text-sm"),a(c,"class","flex-1 min-w-0"),a(t,"class","flex items-center gap-3 mb-3"),a(A,"class","mb-2 text-sm text-brown-700"),a(e,"class","bg-gradient-to-br from-brown-50 to-brown-100 rounded-lg shadow-md border border-brown-200 p-4 hover:shadow-lg transition-shadow")},m(I,Y){y(I,e,Y),o(e,t),o(t,l),F.m(l,null),o(t,s),o(t,c),o(c,u),G&&G.m(u,null),o(u,b),o(u,d),o(d,p),o(d,m),o(c,g),o(c,B),o(B,x),o(e,S),o(e,A),R.m(A,null),o(e,N),J&&J.m(e,null),P||(L=[z(l,"click",Ue(n[1])),z(d,"click",Ue(n[3]))],P=!0)},p(I,[Y]){D===(D=O(I,Y))&&F?F.p(I,Y):(F.d(1),F=D(I),F&&(F.c(),F.m(l,null))),Y&1&&r!==(r="/profile/"+I[0].Author.handle)&&a(l,"href",r),I[0].Author.displayName?G?G.p(I,Y):(G=kn(I),G.c(),G.m(u,b)):G&&(G.d(1),G=null),Y&1&&_!==(_=I[0].Author.handle+"")&&j(m,_),Y&1&&h!==(h="/profile/"+I[0].Author.handle)&&a(d,"href",h),Y&1&&v!==(v=I[0].TimeAgo+"")&&j(x,v),T===(T=E(I))&&R?R.p(I,Y):(R.d(1),R=T(I),R&&(R.c(),R.m(A,null))),X===(X=V(I))&&J?J.p(I,Y):(J&&J.d(1),J=X&&X(I),J&&(J.c(),J.m(e,null)))},i:W,o:W,d(I){I&&k(e),F.d(),G&&G.d(),R.d(),J&&J.d(),P=!1,ce(L)}}}function rn(n){return n&&(n.startsWith("https://")||n.startsWith("/static/"))?n:null}function Kt(n){return n!=null&&n!==""}function Fr(n,e,t){let{item:l}=e;const i=()=>_e(`/profile/${l.Author.handle}`),r=()=>_e(`/profile/${l.Author.handle}`),s=()=>_e(`/profile/${l.Author.handle}`),c=()=>_e(`/brews/${l.Author.did}/${l.Brew.rkey}`);return n.$$set=u=>{"item"in u&&t(0,l=u.item)},[l,i,r,s,c]}class Rr extends Xe{constructor(e){super(),Qe(this,e,Fr,Dr,We,{item:0})}}function Dn(n,e,t){const l=n.slice();return l[12]=e[t],l}function jr(n,e,t){const l=n.slice();return l[9]=e[t],l}function Hr(n){let e,t,l,i;return{c(){e=f("div"),t=f("button"),t.textContent="Log In to Start Tracking",a(t,"class","bg-gradient-to-r from-brown-700 to-brown-800 text-white py-3 px-8 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all text-lg font-semibold shadow-lg hover:shadow-xl inline-block"),a(e,"class","text-center")},m(r,s){y(r,e,s),o(e,t),l||(i=z(t,"click",n[8]),l=!0)},p:W,d(r){r&&k(e),l=!1,i()}}}function zr(n){var h;let e,t,l,i,r=((h=n[3])==null?void 0:h.did)+"",s,c,u,b,d,p,_,m;return{c(){e=f("div"),t=f("p"),l=C("Logged in as: "),i=f("span"),s=C(r),c=w(),u=f("div"),b=f("a"),b.innerHTML='<span class="text-xl font-semibold">‚òï Add New Brew</span>',d=w(),p=f("a"),p.innerHTML='<span class="text-xl font-semibold">üìã View All Brews</span>',a(i,"class","font-mono text-brown-900 font-semibold"),a(t,"class","text-sm text-brown-700"),a(e,"class","mb-6"),a(b,"href","/brews/new"),a(b,"class","block bg-gradient-to-br from-brown-700 to-brown-800 text-white text-center py-4 px-6 rounded-xl hover:from-brown-800 hover:to-brown-900 transition-all shadow-lg hover:shadow-xl transform"),a(p,"href","/brews"),a(p,"class","block bg-gradient-to-br from-brown-500 to-brown-600 text-white text-center py-4 px-6 rounded-xl hover:from-brown-600 hover:to-brown-700 transition-all shadow-lg hover:shadow-xl"),a(u,"class","grid grid-cols-1 md:grid-cols-2 gap-4")},m(g,B){y(g,e,B),o(e,t),o(t,l),o(t,i),o(i,s),y(g,c,B),y(g,u,B),o(u,b),o(u,d),o(u,p),_||(m=[z(b,"click",Ue(n[6])),z(p,"click",Ue(n[7]))],_=!0)},p(g,B){var v;B&8&&r!==(r=((v=g[3])==null?void 0:v.did)+"")&&j(s,r)},d(g){g&&(k(e),k(c),k(u)),_=!1,ce(m)}}}function Gr(n){let e,t=[],l=new Map,i,r=le(n[0]);const s=c=>c[12].Timestamp;for(let c=0;c<r.length;c+=1){let u=Dn(n,r,c),b=s(u);l.set(b,t[c]=Fn(b,u))}return{c(){e=f("div");for(let c=0;c<t.length;c+=1)t[c].c();a(e,"class","space-y-4")},m(c,u){y(c,e,u);for(let b=0;b<t.length;b+=1)t[b]&&t[b].m(e,null);i=!0},p(c,u){u&1&&(r=le(c[0]),jt(),t=vr(t,u,s,1,c,r,l,e,gr,Fn,null,Dn),Ht())},i(c){if(!i){for(let u=0;u<r.length;u+=1)ve(t[u]);i=!0}},o(c){for(let u=0;u<t.length;u+=1)Oe(t[u]);i=!1},d(c){c&&k(e);for(let u=0;u<t.length;u+=1)t[u].d()}}}function Ir(n){let e,t;function l(s,c){return s[4]?Yr:qr}let i=l(n),r=i(n);return{c(){e=f("div"),t=C("No activity yet. "),r.c(),a(e,"class","text-center py-8 text-brown-600")},m(s,c){y(s,e,c),o(e,t),r.m(e,null)},p(s,c){i!==(i=l(s))&&(r.d(1),r=i(s),r&&(r.c(),r.m(e,null)))},i:W,o:W,d(s){s&&k(e),r.d()}}}function Ur(n){let e,t,l;return{c(){e=f("div"),t=C("Failed to load feed: "),l=C(n[2]),a(e,"class","text-center py-8 text-brown-600")},m(i,r){y(i,e,r),o(e,t),o(e,l)},p(i,r){r&4&&j(l,i[2])},i:W,o:W,d(i){i&&k(e)}}}function Wr(n){let e,t=le(Array(3)),l=[];for(let i=0;i<t.length;i+=1)l[i]=Vr(jr(n,t,i));return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();a(e,"class","space-y-4")},m(i,r){y(i,e,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p:W,i:W,o:W,d(i){i&&k(e),Ge(l,i)}}}function Fn(n,e){let t,l,i;return l=new Rr({props:{item:e[12]}}),{key:n,first:null,c(){t=ft(),it(l.$$.fragment),this.first=t},m(r,s){y(r,t,s),nt(l,r,s),i=!0},p(r,s){e=r;const c={};s&1&&(c.item=e[12]),l.$set(c)},i(r){i||(ve(l.$$.fragment,r),i=!0)},o(r){Oe(l.$$.fragment,r),i=!1},d(r){r&&k(t),lt(l,r)}}}function qr(n){let e;return{c(){e=C("Log in to see your feed.")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function Yr(n){let e;return{c(){e=C("Start by adding your first brew!")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function Vr(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="bg-brown-50 rounded-lg p-4 border border-brown-200"><div class="flex items-center gap-3 mb-3"><div class="w-10 h-10 rounded-full bg-brown-300"></div> <div class="flex-1"><div class="h-4 bg-brown-300 rounded w-1/4 mb-2"></div> <div class="h-3 bg-brown-200 rounded w-1/6"></div></div></div> <div class="bg-brown-200 rounded-lg p-3"><div class="h-4 bg-brown-300 rounded w-3/4 mb-2"></div> <div class="h-3 bg-brown-200 rounded w-1/2"></div></div></div> ',a(e,"class","animate-pulse")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Kr(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x;function S(D,F){return D[4]?zr:Hr}let A=S(n),N=A(n);const P=[Wr,Ur,Ir,Gr],L=[];function O(D,F){return D[1]?0:D[2]?1:D[0].length===0?2:3}return h=O(n),g=L[h]=P[h](n),{c(){e=w(),t=f("div"),l=f("div"),i=f("div"),i.innerHTML='<h2 class="text-3xl font-bold text-brown-900">Welcome to Arabica</h2> <span class="text-xs bg-amber-400 text-brown-900 px-2 py-1 rounded-md font-semibold shadow-sm">ALPHA</span>',r=w(),s=f("p"),s.textContent="Track your coffee brewing journey with detailed logs of every cup.",c=w(),u=f("p"),u.textContent="Note: Arabica is currently in alpha. Features and data structures may change.",b=w(),N.c(),d=w(),p=f("div"),_=f("h3"),_.textContent="‚òï Community Feed",m=w(),g.c(),B=w(),v=f("div"),v.innerHTML='<h3 class="text-lg font-bold text-brown-900 mb-3">‚ú® About Arabica</h3> <ul class="text-brown-800 space-y-2 leading-relaxed"><li class="flex items-start"><span class="mr-2">üîí</span><span><strong>Decentralized:</strong> Your data lives in your Personal Data Server (PDS)</span></li> <li class="flex items-start"><span class="mr-2">üöÄ</span><span><strong>Portable:</strong> Own your coffee brewing history</span></li> <li class="flex items-start"><span class="mr-2">üìä</span><span>Track brewing variables like temperature, time, and grind size</span></li> <li class="flex items-start"><span class="mr-2">üåç</span><span>Organize beans by origin and roaster</span></li> <li class="flex items-start"><span class="mr-2">üìù</span><span>Add tasting notes and ratings to each brew</span></li></ul>',document.title="Arabica - Coffee Brew Tracker",a(i,"class","flex items-center gap-3 mb-4"),a(s,"class","text-brown-800 mb-2 text-lg"),a(u,"class","text-sm text-brown-700 italic mb-6"),a(l,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 mb-8 border border-brown-300"),a(_,"class","text-xl font-bold text-brown-900 mb-4"),a(p,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-6 mb-8 border border-brown-300"),a(v,"class","bg-gradient-to-br from-amber-50 to-brown-100 rounded-xl p-6 border-2 border-brown-300 shadow-lg"),a(t,"class","max-w-4xl mx-auto")},m(D,F){y(D,e,F),y(D,t,F),o(t,l),o(l,i),o(l,r),o(l,s),o(l,c),o(l,u),o(l,b),N.m(l,null),o(t,d),o(t,p),o(p,_),o(p,m),L[h].m(p,null),o(t,B),o(t,v),x=!0},p(D,[F]){A===(A=S(D))&&N?N.p(D,F):(N.d(1),N=A(D),N&&(N.c(),N.m(l,null)));let G=h;h=O(D),h===G?L[h].p(D,F):(jt(),Oe(L[G],1,1,()=>{L[G]=null}),Ht(),g=L[h],g?g.p(D,F):(g=L[h]=P[h](D),g.c()),ve(g,1),g.m(p,null))},i(D){x||(ve(g),x=!0)},o(D){Oe(g),x=!1},d(D){D&&(k(e),k(t)),N.d(),L[h].d()}}}function Jr(n,e,t){let l,i,r;ut(n,pt,_=>t(5,r=_));let s=[],c=!0,u=null;vt(async()=>{try{const _=await ge.get("/api/feed-json");t(0,s=_.items||[])}catch(_){console.error("Failed to load feed:",_),_.status!==401&&_.status!==403&&t(2,u=_.message)}finally{t(1,c=!1)}});const b=()=>_e("/brews/new"),d=()=>_e("/brews"),p=()=>_e("/login");return n.$$.update=()=>{n.$$.dirty&32&&t(4,l=r.isAuthenticated),n.$$.dirty&32&&t(3,i=r.user)},[s,c,u,i,l,r,b,d,p]}class Qr extends Xe{constructor(e){super(),Qe(this,e,Jr,Kr,We,{})}}const{document:Xr}=fr;function Rn(n,e,t){const l=n.slice();return l[18]=e[t],l}function jn(n){let e;function t(r,s){return r[1].length===0?$r:Zr}let l=t(n),i=l(n);return{c(){e=f("div"),i.c(),a(e,"class","absolute z-10 w-full mt-1 bg-brown-50 border-2 border-brown-300 rounded-lg shadow-lg max-h-60 overflow-y-auto")},m(r,s){y(r,e,s),i.m(e,null)},p(r,s){l===(l=t(r))&&i?i.p(r,s):(i.d(1),i=l(r),i&&(i.c(),i.m(e,null)))},d(r){r&&k(e),i.d()}}}function Zr(n){let e,t=le(n[1]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Hn(Rn(n,t,i));return{c(){for(let i=0;i<l.length;i+=1)l[i].c();e=ft()},m(i,r){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(i,r);y(i,e,r)},p(i,r){if(r&66){t=le(i[1]);let s;for(s=0;s<t.length;s+=1){const c=Rn(i,t,s);l[s]?l[s].p(c,r):(l[s]=Hn(c),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&k(e),Ge(l,i)}}}function $r(n){let e;return{c(){e=f("div"),e.textContent="No accounts found",a(e,"class","px-4 py-3 text-sm text-brown-600")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Hn(n){let e,t,l,i,r,s,c=(n[18].displayName||n[18].handle)+"",u,b,d,p,_=n[18].handle+"",m,h,g,B;function v(){return n[11](n[18])}return{c(){e=f("button"),t=f("img"),i=w(),r=f("div"),s=f("div"),u=C(c),b=w(),d=f("div"),p=C("@"),m=C(_),h=w(),gt(t.src,l=n[18].avatar||"/static/icon-placeholder.svg")||a(t,"src",l),a(t,"alt",""),a(t,"class","w-6 h-6 rounded-full object-cover flex-shrink-0"),a(s,"class","font-medium text-sm text-brown-900 truncate"),a(d,"class","text-xs text-brown-600 truncate"),a(r,"class","flex-1 min-w-0"),a(e,"type","button"),a(e,"class","w-full px-3 py-2 hover:bg-brown-100 cursor-pointer flex items-center gap-2 text-left")},m(x,S){y(x,e,S),o(e,t),o(e,i),o(e,r),o(r,s),o(s,u),o(r,b),o(r,d),o(d,p),o(d,m),o(e,h),g||(B=[z(t,"error",to),z(e,"click",v)],g=!0)},p(x,S){n=x,S&2&&!gt(t.src,l=n[18].avatar||"/static/icon-placeholder.svg")&&a(t,"src",l),S&2&&c!==(c=(n[18].displayName||n[18].handle)+"")&&j(u,c),S&2&&_!==(_=n[18].handle+"")&&j(m,_)},d(x){x&&k(e),g=!1,ce(B)}}}function zn(n){let e,t;return{c(){e=f("div"),t=C(n[4]),a(e,"class","mt-3 text-red-600 text-sm")},m(l,i){y(l,e,i),o(e,t)},p(l,i){i&16&&j(t,l[4])},d(l){l&&k(e)}}}function eo(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P=n[3]?"Logging in...":"Log In",L,O,D,F,G,E=n[2]&&jn(n),T=n[4]&&zn(n);return{c(){e=w(),t=f("div"),l=f("div"),i=f("div"),i.innerHTML='<h2 class="text-3xl font-bold text-brown-900">Welcome to Arabica</h2> <span class="text-xs bg-amber-400 text-brown-900 px-2 py-1 rounded-md font-semibold shadow-sm">ALPHA</span>',r=w(),s=f("p"),s.textContent="Track your coffee brewing journey with detailed logs of every cup.",c=w(),u=f("p"),u.textContent="Note: Arabica is currently in alpha. Features and data structures may change.",b=w(),d=f("div"),p=f("p"),p.textContent="Please log in with your AT Protocol handle to start tracking your brews.",_=w(),m=f("form"),h=f("div"),g=f("label"),g.textContent="Your Handle",B=w(),v=f("input"),x=w(),E&&E.c(),S=w(),T&&T.c(),A=w(),N=f("button"),L=C(P),O=w(),D=f("div"),D.innerHTML='<h3 class="text-lg font-bold text-brown-900 mb-3">‚ú® About Arabica</h3> <ul class="text-brown-800 space-y-2 leading-relaxed"><li class="flex items-start"><span class="mr-2">üîí</span><span><strong>Decentralized:</strong> Your data lives in your Personal Data Server (PDS)</span></li> <li class="flex items-start"><span class="mr-2">üöÄ</span><span><strong>Portable:</strong> Own your coffee brewing history</span></li> <li class="flex items-start"><span class="mr-2">üìä</span><span>Track brewing variables like temperature, time, and grind size</span></li> <li class="flex items-start"><span class="mr-2">üåç</span><span>Organize beans by origin and roaster</span></li> <li class="flex items-start"><span class="mr-2">üìù</span><span>Add tasting notes and ratings to each brew</span></li></ul>',Xr.title="Login - Arabica",a(i,"class","flex items-center gap-3 mb-4"),a(s,"class","text-brown-800 mb-2 text-lg"),a(u,"class","text-sm text-brown-700 italic mb-6"),a(p,"class","text-brown-800 mb-6 text-center text-lg"),a(g,"for","handle"),a(g,"class","block text-sm font-medium text-brown-900 mb-2"),a(v,"type","text"),a(v,"id","handle"),a(v,"name","handle"),a(v,"placeholder","alice.bsky.social"),a(v,"autocomplete","off"),v.required=!0,v.disabled=n[3],a(v,"class","w-full px-4 py-3 border-2 border-brown-300 rounded-lg focus:ring-2 focus:ring-brown-600 focus:border-brown-600 bg-white disabled:opacity-50"),a(h,"class","relative autocomplete-container"),a(N,"type","submit"),N.disabled=n[3],a(N,"class","w-full mt-4 bg-gradient-to-r from-brown-700 to-brown-800 text-white py-3 px-8 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all text-lg font-semibold shadow-lg hover:shadow-xl disabled:opacity-50"),a(m,"method","POST"),a(m,"action","/auth/login"),a(m,"class","max-w-md mx-auto"),a(l,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 mb-8 border border-brown-300"),a(D,"class","bg-gradient-to-br from-amber-50 to-brown-100 rounded-xl p-6 border-2 border-brown-300 shadow-lg"),a(t,"class","max-w-4xl mx-auto")},m(R,V){y(R,e,V),y(R,t,V),o(t,l),o(l,i),o(l,r),o(l,s),o(l,c),o(l,u),o(l,b),o(l,d),o(d,p),o(d,_),o(d,m),o(m,h),o(h,g),o(h,B),o(h,v),H(v,n[0]),o(h,x),E&&E.m(h,null),o(m,S),T&&T.m(m,null),o(m,A),o(m,N),o(N,L),o(t,O),o(t,D),F||(G=[z(v,"input",n[9]),z(v,"input",n[5]),z(v,"focus",n[10]),z(m,"submit",n[7])],F=!0)},p(R,[V]){V&8&&(v.disabled=R[3]),V&1&&v.value!==R[0]&&H(v,R[0]),R[2]?E?E.p(R,V):(E=jn(R),E.c(),E.m(h,null)):E&&(E.d(1),E=null),R[4]?T?T.p(R,V):(T=zn(R),T.c(),T.m(m,A)):T&&(T.d(1),T=null),V&8&&P!==(P=R[3]?"Logging in...":"Log In")&&j(L,P),V&8&&(N.disabled=R[3])},i:W,o:W,d(R){R&&(k(e),k(t)),E&&E.d(),T&&T.d(),F=!1,ce(G)}}}const to=n=>{n.target.src="/static/icon-placeholder.svg"};function no(n,e,t){let l;ut(n,pt,N=>t(8,l=N));let i="",r=[],s=!1,c=!1,u="",b,d;async function p(N){if(N.length<3){t(1,r=[]),t(2,s=!1);return}d&&d.abort(),d=new AbortController;try{const P=await fetch(`/api/search-actors?q=${encodeURIComponent(N)}`,{signal:d.signal});if(!P.ok){t(1,r=[]),t(2,s=!1);return}const L=await P.json();t(1,r=L.actors||[]),t(2,s=r.length>0||N.length>=3)}catch(P){P.name!=="AbortError"&&console.error("Error searching actors:",P)}}function _(N,P){return(...L)=>{clearTimeout(b),b=setTimeout(()=>N(...L),P)}}const m=_(p,300);function h(N){t(0,i=N.target.value),m(i)}function g(N){t(0,i=N.handle),t(1,r=[]),t(2,s=!1)}function B(N){N.target.closest(".autocomplete-container")||t(2,s=!1)}async function v(N){if(N.preventDefault(),!i){t(4,u="Please enter your handle");return}t(3,c=!0),t(4,u=""),N.target.submit()}vt(()=>(document.addEventListener("click",B),()=>{document.removeEventListener("click",B),d&&d.abort()}));function x(){i=this.value,t(0,i)}const S=()=>{r.length>0&&i.length>=3&&t(2,s=!0)},A=N=>g(N);return n.$$.update=()=>{n.$$.dirty&256&&l.isAuthenticated&&!l.loading&&_e("/")},[i,r,s,c,u,h,g,v,l,x,S,A]}class lo extends Xe{constructor(e){super(),Qe(this,e,no,eo,We,{})}}function ro(){const{subscribe:n,set:e,update:t}=nr({beans:[],roasters:[],grinders:[],brewers:[],brews:[],lastFetch:null,loading:!1}),l="arabica_data_cache",i=5*60*1e3;return{subscribe:n,async load(r=!1){if(!r){const s=localStorage.getItem(l);if(s)try{const c=JSON.parse(s);if(Date.now()-c.timestamp<i){e({...c,lastFetch:c.timestamp,loading:!1});return}e({...c,lastFetch:c.timestamp,loading:!0})}catch(c){console.error("Failed to parse cache:",c)}}try{t(u=>({...u,loading:!0}));const s=await ge.get("/api/data"),c={beans:s.beans||[],roasters:s.roasters||[],grinders:s.grinders||[],brewers:s.brewers||[],brews:s.brews||[],lastFetch:Date.now(),loading:!1};e(c),localStorage.setItem(l,JSON.stringify({...c,timestamp:c.lastFetch}))}catch(s){console.error("Failed to fetch data:",s),t(c=>({...c,loading:!1}))}},async invalidate(){localStorage.removeItem(l),await this.load(!0)},clear(){localStorage.removeItem(l),e({beans:[],roasters:[],grinders:[],brewers:[],brews:[],lastFetch:null,loading:!1})}}}const Te=ro();function Gn(n,e,t){const l=n.slice();return l[12]=e[t],l}function oo(n){let e,t=le(n[0]),l=[];for(let i=0;i<t.length;i+=1)l[i]=Kn(Gn(n,t,i));return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();a(e,"class","space-y-4")},m(i,r){y(i,e,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(i,r){if(r&13){t=le(i[0]);let s;for(s=0;s<t.length;s+=1){const c=Gn(i,t,s);l[s]?l[s].p(c,r):(l[s]=Kn(c),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&k(e),Ge(l,i)}}}function io(n){let e,t,l,i,r,s,c,u,b,d;return{c(){e=f("div"),t=f("div"),t.textContent="‚òï",l=w(),i=f("h2"),i.textContent="No Brews Yet",r=w(),s=f("p"),s.textContent="Start tracking your coffee journey by adding your first brew!",c=w(),u=f("button"),u.textContent="Add Your First Brew",a(t,"class","text-6xl mb-4"),a(i,"class","text-2xl font-bold text-brown-900 mb-2"),a(s,"class","text-brown-700 mb-6"),a(u,"class","bg-gradient-to-r from-brown-700 to-brown-800 text-white px-6 py-3 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg inline-block"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl p-12 text-center border border-brown-300")},m(p,_){y(p,e,_),o(e,t),o(e,l),o(e,i),o(e,r),o(e,s),o(e,c),o(e,u),b||(d=z(u,"click",n[6]),b=!0)},p:W,d(p){p&&k(e),b=!1,d()}}}function so(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-brown-800 mx-auto"></div> <p class="mt-4 text-brown-700">Loading brews...</p>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function ao(n){let e;return{c(){e=f("h3"),e.textContent="Unknown Bean",a(e,"class","text-xl font-bold text-brown-900 mb-1")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function uo(n){var c;let e,t=(n[12].bean.name||n[12].bean.origin||"Unknown Bean")+"",l,i,r,s=((c=n[12].bean.Roaster)==null?void 0:c.Name)&&In(n);return{c(){e=f("h3"),l=C(t),i=w(),s&&s.c(),r=ft(),a(e,"class","text-xl font-bold text-brown-900 mb-1")},m(u,b){y(u,e,b),o(e,l),y(u,i,b),s&&s.m(u,b),y(u,r,b)},p(u,b){var d;b&1&&t!==(t=(u[12].bean.name||u[12].bean.origin||"Unknown Bean")+"")&&j(l,t),(d=u[12].bean.Roaster)!=null&&d.Name?s?s.p(u,b):(s=In(u),s.c(),s.m(r.parentNode,r)):s&&(s.d(1),s=null)},d(u){u&&(k(e),k(i),k(r)),s&&s.d(u)}}}function In(n){let e,t,l=n[12].bean.roaster.name+"",i;return{c(){e=f("p"),t=C("üè≠ "),i=C(l),a(e,"class","text-sm text-brown-700 mb-2")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[12].bean.roaster.name+"")&&j(i,l)},d(r){r&&k(e)}}}function co(n){let e,t,l=n[12].method+"",i;return{c(){e=f("span"),t=C("‚òï "),i=C(l)},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[12].method+"")&&j(i,l)},d(r){r&&k(e)}}}function fo(n){let e,t,l=n[12].brewer_obj.name+"",i;return{c(){e=f("span"),t=C("‚òï "),i=C(l)},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&1&&l!==(l=r[12].brewer_obj.name+"")&&j(i,l)},d(r){r&&k(e)}}}function Un(n){let e,t,l=n[12].temperature+"",i,r;return{c(){e=f("span"),t=C("üå°Ô∏è "),i=C(l),r=C("¬∞C")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[12].temperature+"")&&j(i,l)},d(s){s&&k(e)}}}function Wn(n){let e,t,l=n[12].coffee_amount+"",i,r;return{c(){e=f("span"),t=C("‚öñÔ∏è "),i=C(l),r=C("g coffee")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[12].coffee_amount+"")&&j(i,l)},d(s){s&&k(e)}}}function qn(n){let e,t=Jt(n[12])+"",l;return{c(){e=f("span"),l=C(t)},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&1&&t!==(t=Jt(i[12])+"")&&j(l,t)},d(i){i&&k(e)}}}function Yn(n){let e,t,l=n[12].tasting_notes+"",i,r;return{c(){e=f("p"),t=C('"'),i=C(l),r=C('"'),a(e,"class","text-sm text-brown-700 italic line-clamp-2 svelte-efadq")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[12].tasting_notes+"")&&j(i,l)},d(s){s&&k(e)}}}function Vn(n){let e,t,l=n[12].rating+"",i,r;return{c(){e=f("span"),t=C("‚≠ê "),i=C(l),r=C("/10"),a(e,"class","inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-amber-100 text-amber-900")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&1&&l!==(l=s[12].rating+"")&&j(i,l)},d(s){s&&k(e)}}}function Kn(n){let e,t,l,i,r,s,c=yt(n[12].temperature),u,b=yt(n[12].coffee_amount),d,p=Jt(n[12]),_,m,h,g=Jn(n[12].created_at||n[12].created_at)+"",B,v,x,S=yt(n[12].rating),A,N,P,L,O,D,F,G,E,T,R,V,X,J,I,Y=n[2]===n[12].rkey?"Deleting...":"Delete",ue,$,Ae,ke,De;function ye(se,ee){return se[12].bean?uo:ao}let Me=ye(n),we=Me(n);function Fe(se,ee){if(se[12].brewer_obj)return fo;if(se[12].method)return co}let Ee=Fe(n),ae=Ee&&Ee(n),te=c&&Un(n),ie=b&&Wn(n),re=p&&qn(n),oe=n[12].tasting_notes&&Yn(n),he=S&&Vn(n);function fe(){return n[7](n[12])}function pe(){return n[8](n[12])}function Ie(){return n[9](n[12])}return{c(){e=f("div"),t=f("div"),l=f("div"),we.c(),i=w(),r=f("div"),ae&&ae.c(),s=w(),te&&te.c(),u=w(),ie&&ie.c(),d=w(),re&&re.c(),_=w(),oe&&oe.c(),m=w(),h=f("p"),B=C(g),v=w(),x=f("div"),he&&he.c(),A=w(),N=f("div"),P=f("a"),L=C("View"),D=w(),F=f("span"),F.textContent="|",G=w(),E=f("a"),T=C("Edit"),V=w(),X=f("span"),X.textContent="|",J=w(),I=f("button"),ue=C(Y),Ae=w(),a(r,"class","flex flex-wrap gap-x-4 gap-y-1 text-sm text-brown-600 mb-2"),a(h,"class","text-xs text-brown-500 mt-2"),a(l,"class","flex-1 min-w-0"),a(P,"href",O="/brews/"+n[12].rkey),a(P,"class","text-brown-700 hover:text-brown-900 text-sm font-medium hover:underline"),a(F,"class","text-brown-400"),a(E,"href",R="/brews/"+n[12].rkey+"/edit"),a(E,"class","text-brown-700 hover:text-brown-900 text-sm font-medium hover:underline"),a(X,"class","text-brown-400"),I.disabled=$=n[2]===n[12].rkey,a(I,"class","text-red-600 hover:text-red-800 text-sm font-medium hover:underline disabled:opacity-50"),a(N,"class","flex gap-2 items-center"),a(x,"class","flex flex-col items-end gap-2"),a(t,"class","flex items-start justify-between gap-4"),a(e,"class","bg-gradient-to-br from-brown-50 to-brown-100 rounded-lg shadow-md border border-brown-200 p-5 hover:shadow-lg transition-shadow")},m(se,ee){y(se,e,ee),o(e,t),o(t,l),we.m(l,null),o(l,i),o(l,r),ae&&ae.m(r,null),o(r,s),te&&te.m(r,null),o(r,u),ie&&ie.m(r,null),o(r,d),re&&re.m(r,null),o(l,_),oe&&oe.m(l,null),o(l,m),o(l,h),o(h,B),o(t,v),o(t,x),he&&he.m(x,null),o(x,A),o(x,N),o(N,P),o(P,L),o(N,D),o(N,F),o(N,G),o(N,E),o(E,T),o(N,V),o(N,X),o(N,J),o(N,I),o(I,ue),o(e,Ae),ke||(De=[z(P,"click",Ue(fe)),z(E,"click",Ue(pe)),z(I,"click",Ie)],ke=!0)},p(se,ee){n=se,Me===(Me=ye(n))&&we?we.p(n,ee):(we.d(1),we=Me(n),we&&(we.c(),we.m(l,i))),Ee===(Ee=Fe(n))&&ae?ae.p(n,ee):(ae&&ae.d(1),ae=Ee&&Ee(n),ae&&(ae.c(),ae.m(r,s))),ee&1&&(c=yt(n[12].temperature)),c?te?te.p(n,ee):(te=Un(n),te.c(),te.m(r,u)):te&&(te.d(1),te=null),ee&1&&(b=yt(n[12].coffee_amount)),b?ie?ie.p(n,ee):(ie=Wn(n),ie.c(),ie.m(r,d)):ie&&(ie.d(1),ie=null),ee&1&&(p=Jt(n[12])),p?re?re.p(n,ee):(re=qn(n),re.c(),re.m(r,null)):re&&(re.d(1),re=null),n[12].tasting_notes?oe?oe.p(n,ee):(oe=Yn(n),oe.c(),oe.m(l,m)):oe&&(oe.d(1),oe=null),ee&1&&g!==(g=Jn(n[12].created_at||n[12].created_at)+"")&&j(B,g),ee&1&&(S=yt(n[12].rating)),S?he?he.p(n,ee):(he=Vn(n),he.c(),he.m(x,A)):he&&(he.d(1),he=null),ee&1&&O!==(O="/brews/"+n[12].rkey)&&a(P,"href",O),ee&1&&R!==(R="/brews/"+n[12].rkey+"/edit")&&a(E,"href",R),ee&5&&Y!==(Y=n[2]===n[12].rkey?"Deleting...":"Delete")&&j(ue,Y),ee&5&&$!==($=n[2]===n[12].rkey)&&(I.disabled=$)},d(se){se&&k(e),we.d(),ae&&ae.d(),te&&te.d(),ie&&ie.d(),re&&re.d(),oe&&oe.d(),he&&he.d(),ke=!1,ce(De)}}}function bo(n){let e,t,l,i,r,s,c,u,b;function d(m,h){return m[1]?so:m[0].length===0?io:oo}let p=d(n),_=p(n);return{c(){e=w(),t=f("div"),l=f("div"),i=f("h1"),i.textContent="My Brews",r=w(),s=f("a"),s.textContent="‚òï Add New Brew",c=w(),_.c(),document.title="My Brews - Arabica",a(i,"class","text-3xl font-bold text-brown-900"),a(s,"href","/brews/new"),a(s,"class","bg-gradient-to-r from-brown-700 to-brown-800 text-white px-6 py-3 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg"),a(l,"class","flex items-center justify-between mb-6"),a(t,"class","max-w-6xl mx-auto")},m(m,h){y(m,e,h),y(m,t,h),o(t,l),o(l,i),o(l,r),o(l,s),o(t,c),_.m(t,null),u||(b=z(s,"click",Ue(n[5])),u=!0)},p(m,[h]){p===(p=d(m))&&_?_.p(m,h):(_.d(1),_=p(m),_&&(_.c(),_.m(t,null)))},i:W,o:W,d(m){m&&(k(e),k(t)),_.d(),u=!1,b()}}}function Jn(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):""}function yt(n){return n!=null&&n!==""}function Jt(n){if(yt(n.water_amount)&&n.water_amount>0)return`üíß ${n.water_amount}ml water`;if(n.pours&&n.pours.length>0){const e=n.pours.reduce((l,i)=>l+(i.water_amount||0),0),t=n.pours.length;return`üíß ${e}ml water (${t} pour${t!==1?"s":""})`}return null}function po(n,e,t){let l,i,r;ut(n,Te,g=>t(11,i=g)),ut(n,pt,g=>t(4,r=g));let s=[],c=!0,u=null;vt(async()=>{if(!l){_e("/login");return}await Te.load(),t(0,s=i.brews||[]),t(1,c=!1)});async function b(g){if(confirm("Are you sure you want to delete this brew?")){t(2,u=g);try{await ge.delete(`/brews/${g}`),await Te.invalidate(),t(0,s=i.brews||[])}catch(B){alert("Failed to delete brew: "+B.message)}finally{t(2,u=null)}}}const d=()=>_e("/brews/new"),p=()=>_e("/brews/new"),_=g=>_e(`/brews/${g.rkey}`),m=g=>_e(`/brews/${g.rkey}/edit`),h=g=>b(g.rkey);return n.$$.update=()=>{n.$$.dirty&16&&(l=r.isAuthenticated)},[s,c,u,b,r,d,p,_,m,h]}class _o extends Xe{constructor(e){super(),Qe(this,e,po,bo,We,{})}}function Qn(n,e,t){const l=n.slice();return l[18]=e[t],l[20]=t,l}function mo(n){let e,t,l,i,r,s,c=ol(n[2].created_at)+"",u,b,d,p,_=Dt(n[2].rating),m,h,g,B,v,x,S,A,N,P,L,O,D,F,G,E,T,R,V,X,J,I,Y,ue,$,Ae,ke,De,ye,Me,we,Fe,Ee,ae,te,ie,re,oe,he,fe=n[4]&&Xn(n),pe=_&&Zn(n);function Ie(M,ne){return M[2].bean?vo:go}let se=Ie(n),ee=se(n);function qe(M,ne){return M[2].brewer_obj?xo:M[2].method?yo:ko}let Pe=qe(n),Re=Pe(n);function Se(M,ne){return M[2].grinder_obj?Bo:Co}let Ze=Se(n),xe=Ze(n);function Ye(M,ne){return ne&4&&(R=null),R==null&&(R=!!Dt(M[2].coffee_amount)),R?So:Ao}let $e=Ye(n,-1),de=$e(n);function je(M,ne){return ne&32&&(Y=null),Y==null&&(Y=!!Dt(M[5])),Y?To:No}let be=je(n,-1),Ce=be(n);function q(M,ne){return M[2].grind_size?Oo:Lo}let Z=q(n),K=Z(n);function me(M,ne){return ne&4&&(Fe=null),Fe==null&&(Fe=!!Dt(M[2].temperature)),Fe?Eo:Mo}let dt=me(n,-1),He=dt(n),Ne=n[2].pours&&n[2].pours.length>0&&nl(n),ze=n[2].tasting_notes&&rl(n);return{c(){e=f("div"),t=f("div"),l=f("div"),i=f("h2"),i.textContent="Brew Details",r=w(),s=f("p"),u=C(c),b=w(),fe&&fe.c(),d=w(),p=f("div"),pe&&pe.c(),m=w(),h=f("div"),g=f("h3"),g.textContent="Coffee Bean",B=w(),ee.c(),v=w(),x=f("div"),S=f("div"),A=f("h3"),A.textContent="Brew Method",N=w(),Re.c(),P=w(),L=f("div"),O=f("h3"),O.textContent="Grinder",D=w(),xe.c(),F=w(),G=f("div"),E=f("h3"),E.textContent="Coffee",T=w(),de.c(),V=w(),X=f("div"),J=f("h3"),J.textContent="Water",I=w(),Ce.c(),ue=w(),$=f("div"),Ae=f("h3"),Ae.textContent="Grind Size",ke=w(),K.c(),De=w(),ye=f("div"),Me=f("h3"),Me.textContent="Water Temp",we=w(),He.c(),Ee=w(),Ne&&Ne.c(),ae=w(),ze&&ze.c(),te=w(),ie=f("div"),re=f("button"),re.textContent="‚Üê Back to Brews",a(i,"class","text-3xl font-bold text-brown-900"),a(s,"class","text-sm text-brown-600 mt-1"),a(t,"class","flex justify-between items-start mb-6"),a(g,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(h,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(A,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(S,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(O,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(L,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(E,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(G,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(J,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(X,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(Ae,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a($,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(Me,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(ye,"class","bg-brown-50 rounded-lg p-4 border border-brown-200"),a(x,"class","grid grid-cols-2 gap-4"),a(p,"class","space-y-6"),a(re,"class","text-brown-700 hover:text-brown-900 font-medium hover:underline"),a(ie,"class","mt-6"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 border border-brown-300")},m(M,ne){y(M,e,ne),o(e,t),o(t,l),o(l,i),o(l,r),o(l,s),o(s,u),o(t,b),fe&&fe.m(t,null),o(e,d),o(e,p),pe&&pe.m(p,null),o(p,m),o(p,h),o(h,g),o(h,B),ee.m(h,null),o(p,v),o(p,x),o(x,S),o(S,A),o(S,N),Re.m(S,null),o(x,P),o(x,L),o(L,O),o(L,D),xe.m(L,null),o(x,F),o(x,G),o(G,E),o(G,T),de.m(G,null),o(x,V),o(x,X),o(X,J),o(X,I),Ce.m(X,null),o(x,ue),o(x,$),o($,Ae),o($,ke),K.m($,null),o(x,De),o(x,ye),o(ye,Me),o(ye,we),He.m(ye,null),o(p,Ee),Ne&&Ne.m(p,null),o(p,ae),ze&&ze.m(p,null),o(e,te),o(e,ie),o(ie,re),oe||(he=z(re,"click",n[11]),oe=!0)},p(M,ne){ne&4&&c!==(c=ol(M[2].created_at)+"")&&j(u,c),M[4]?fe?fe.p(M,ne):(fe=Xn(M),fe.c(),fe.m(t,null)):fe&&(fe.d(1),fe=null),ne&4&&(_=Dt(M[2].rating)),_?pe?pe.p(M,ne):(pe=Zn(M),pe.c(),pe.m(p,m)):pe&&(pe.d(1),pe=null),se===(se=Ie(M))&&ee?ee.p(M,ne):(ee.d(1),ee=se(M),ee&&(ee.c(),ee.m(h,null))),Pe===(Pe=qe(M))&&Re?Re.p(M,ne):(Re.d(1),Re=Pe(M),Re&&(Re.c(),Re.m(S,null))),Ze===(Ze=Se(M))&&xe?xe.p(M,ne):(xe.d(1),xe=Ze(M),xe&&(xe.c(),xe.m(L,null))),$e===($e=Ye(M,ne))&&de?de.p(M,ne):(de.d(1),de=$e(M),de&&(de.c(),de.m(G,null))),be===(be=je(M,ne))&&Ce?Ce.p(M,ne):(Ce.d(1),Ce=be(M),Ce&&(Ce.c(),Ce.m(X,null))),Z===(Z=q(M))&&K?K.p(M,ne):(K.d(1),K=Z(M),K&&(K.c(),K.m($,null))),dt===(dt=me(M,ne))&&He?He.p(M,ne):(He.d(1),He=dt(M),He&&(He.c(),He.m(ye,null))),M[2].pours&&M[2].pours.length>0?Ne?Ne.p(M,ne):(Ne=nl(M),Ne.c(),Ne.m(p,ae)):Ne&&(Ne.d(1),Ne=null),M[2].tasting_notes?ze?ze.p(M,ne):(ze=rl(M),ze.c(),ze.m(p,null)):ze&&(ze.d(1),ze=null)},d(M){M&&k(e),fe&&fe.d(),pe&&pe.d(),ee.d(),Re.d(),xe.d(),de.d(),Ce.d(),K.d(),He.d(),Ne&&Ne.d(),ze&&ze.d(),oe=!1,he()}}}function wo(n){let e,t,l,i,r,s,c,u;return{c(){e=f("div"),t=f("h2"),t.textContent="Brew Not Found",l=w(),i=f("p"),i.textContent="The brew you're looking for doesn't exist.",r=w(),s=f("button"),s.textContent="Back to Brews",a(t,"class","text-2xl font-bold text-brown-900 mb-2"),a(i,"class","text-brown-700 mb-6"),a(s,"class","bg-gradient-to-r from-brown-700 to-brown-800 text-white px-6 py-3 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl p-12 text-center border border-brown-300")},m(b,d){y(b,e,d),o(e,t),o(e,l),o(e,i),o(e,r),o(e,s),c||(u=z(s,"click",n[9]),c=!0)},p:W,d(b){b&&k(e),c=!1,u()}}}function ho(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-brown-800 mx-auto"></div> <p class="mt-4 text-brown-700">Loading brew...</p>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Xn(n){let e,t,l,i,r,s;return{c(){e=f("div"),t=f("button"),t.textContent="Edit",l=w(),i=f("button"),i.textContent="Delete",a(t,"class","inline-flex items-center bg-brown-300 text-brown-900 px-4 py-2 rounded-lg hover:bg-brown-400 font-medium transition-colors"),a(i,"class","inline-flex items-center bg-brown-200 text-brown-700 px-4 py-2 rounded-lg hover:bg-brown-300 font-medium transition-colors"),a(e,"class","flex gap-2")},m(c,u){y(c,e,u),o(e,t),o(e,l),o(e,i),r||(s=[z(t,"click",n[10]),z(i,"click",n[6])],r=!0)},p:W,d(c){c&&k(e),r=!1,ce(s)}}}function Zn(n){let e,t,l=n[2].rating+"",i,r,s,c;return{c(){e=f("div"),t=f("div"),i=C(l),r=C("/10"),s=w(),c=f("div"),c.textContent="Rating",a(t,"class","text-4xl font-bold text-brown-800"),a(c,"class","text-sm text-brown-600 mt-1"),a(e,"class","text-center py-4 bg-brown-50 rounded-lg border border-brown-200")},m(u,b){y(u,e,b),o(e,t),o(t,i),o(t,r),o(e,s),o(e,c)},p(u,b){b&4&&l!==(l=u[2].rating+"")&&j(i,l)},d(u){u&&k(e)}}}function go(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function vo(n){var p;let e,t=(n[2].bean.name||n[2].bean.origin)+"",l,i,r,s,c,u=((p=n[2].bean.roaster)==null?void 0:p.Name)&&$n(n),b=n[2].bean.origin&&el(n),d=n[2].bean.roast_level&&tl(n);return{c(){e=f("div"),l=C(t),i=w(),u&&u.c(),r=w(),s=f("div"),b&&b.c(),c=w(),d&&d.c(),a(e,"class","font-bold text-lg text-brown-900"),a(s,"class","flex flex-wrap gap-3 mt-2 text-sm text-brown-600")},m(_,m){y(_,e,m),o(e,l),y(_,i,m),u&&u.m(_,m),y(_,r,m),y(_,s,m),b&&b.m(s,null),o(s,c),d&&d.m(s,null)},p(_,m){var h;m&4&&t!==(t=(_[2].bean.name||_[2].bean.origin)+"")&&j(l,t),(h=_[2].bean.roaster)!=null&&h.Name?u?u.p(_,m):(u=$n(_),u.c(),u.m(r.parentNode,r)):u&&(u.d(1),u=null),_[2].bean.origin?b?b.p(_,m):(b=el(_),b.c(),b.m(s,c)):b&&(b.d(1),b=null),_[2].bean.roast_level?d?d.p(_,m):(d=tl(_),d.c(),d.m(s,null)):d&&(d.d(1),d=null)},d(_){_&&(k(e),k(i),k(r),k(s)),u&&u.d(_),b&&b.d(),d&&d.d()}}}function $n(n){let e,t,l=n[2].bean.roaster.name+"",i;return{c(){e=f("div"),t=C("by "),i=C(l),a(e,"class","text-sm text-brown-700 mt-1")},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&4&&l!==(l=r[2].bean.roaster.name+"")&&j(i,l)},d(r){r&&k(e)}}}function el(n){let e,t,l=n[2].bean.origin+"",i;return{c(){e=f("span"),t=C("Origin: "),i=C(l)},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&4&&l!==(l=r[2].bean.origin+"")&&j(i,l)},d(r){r&&k(e)}}}function tl(n){let e,t,l=n[2].bean.roast_level+"",i;return{c(){e=f("span"),t=C("Roast: "),i=C(l)},m(r,s){y(r,e,s),o(e,t),o(e,i)},p(r,s){s&4&&l!==(l=r[2].bean.roast_level+"")&&j(i,l)},d(r){r&&k(e)}}}function ko(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function yo(n){let e,t=n[2].method+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","font-semibold text-brown-900")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&4&&t!==(t=i[2].method+"")&&j(l,t)},d(i){i&&k(e)}}}function xo(n){let e,t=n[2].brewer_obj.name+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","font-semibold text-brown-900")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&4&&t!==(t=i[2].brewer_obj.name+"")&&j(l,t)},d(i){i&&k(e)}}}function Co(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Bo(n){let e,t=n[2].grinder_obj.name+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","font-semibold text-brown-900")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&4&&t!==(t=i[2].grinder_obj.name+"")&&j(l,t)},d(i){i&&k(e)}}}function Ao(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function So(n){let e,t=n[2].coffee_amount+"",l,i;return{c(){e=f("div"),l=C(t),i=C("g"),a(e,"class","font-semibold text-brown-900")},m(r,s){y(r,e,s),o(e,l),o(e,i)},p(r,s){s&4&&t!==(t=r[2].coffee_amount+"")&&j(l,t)},d(r){r&&k(e)}}}function No(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function To(n){let e,t,l;return{c(){e=f("div"),t=C(n[5]),l=C("g"),a(e,"class","font-semibold text-brown-900")},m(i,r){y(i,e,r),o(e,t),o(e,l)},p(i,r){r&32&&j(t,i[5])},d(i){i&&k(e)}}}function Lo(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Oo(n){let e,t=n[2].grind_size+"",l;return{c(){e=f("div"),l=C(t),a(e,"class","font-semibold text-brown-900")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&4&&t!==(t=i[2].grind_size+"")&&j(l,t)},d(i){i&&k(e)}}}function Mo(n){let e;return{c(){e=f("span"),e.textContent="Not specified",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Eo(n){let e,t=n[2].temperature+"",l,i;return{c(){e=f("div"),l=C(t),i=C("¬∞C"),a(e,"class","font-semibold text-brown-900")},m(r,s){y(r,e,s),o(e,l),o(e,i)},p(r,s){s&4&&t!==(t=r[2].temperature+"")&&j(l,t)},d(r){r&&k(e)}}}function nl(n){let e,t,l,i,r=le(n[2].pours),s=[];for(let c=0;c<r.length;c+=1)s[c]=ll(Qn(n,r,c));return{c(){e=f("div"),t=f("h3"),t.textContent="Pour Schedule",l=w(),i=f("div");for(let c=0;c<s.length;c+=1)s[c].c();a(t,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-3"),a(i,"class","space-y-2"),a(e,"class","bg-brown-50 rounded-lg p-4 border border-brown-200")},m(c,u){y(c,e,u),o(e,t),o(e,l),o(e,i);for(let b=0;b<s.length;b+=1)s[b]&&s[b].m(i,null)},p(c,u){if(u&4){r=le(c[2].pours);let b;for(b=0;b<r.length;b+=1){const d=Qn(c,r,b);s[b]?s[b].p(d,u):(s[b]=ll(d),s[b].c(),s[b].m(i,null))}for(;b<s.length;b+=1)s[b].d(1);s.length=r.length}},d(c){c&&k(e),Ge(s,c)}}}function ll(n){let e,t,l,i,r=n[18].water_amount+"",s,c,u=n[18].time_seconds+"",b,d,p;return{c(){e=f("div"),t=f("span"),t.textContent=`Pour ${n[20]+1}:`,l=w(),i=f("span"),s=C(r),c=C("g at "),b=C(u),d=C("s"),p=w(),a(t,"class","text-brown-700"),a(i,"class","font-semibold text-brown-900"),a(e,"class","flex justify-between text-sm")},m(_,m){y(_,e,m),o(e,t),o(e,l),o(e,i),o(i,s),o(i,c),o(i,b),o(i,d),o(e,p)},p(_,m){m&4&&r!==(r=_[18].water_amount+"")&&j(s,r),m&4&&u!==(u=_[18].time_seconds+"")&&j(b,u)},d(_){_&&k(e)}}}function rl(n){let e,t,l,i,r,s=n[2].tasting_notes+"",c,u;return{c(){e=f("div"),t=f("h3"),t.textContent="Tasting Notes",l=w(),i=f("p"),r=C('"'),c=C(s),u=C('"'),a(t,"class","text-sm font-medium text-brown-600 uppercase tracking-wider mb-2"),a(i,"class","text-brown-900 italic"),a(e,"class","bg-brown-50 rounded-lg p-4 border border-brown-200")},m(b,d){y(b,e,d),o(e,t),o(e,l),o(e,i),o(i,r),o(i,c),o(i,u)},p(b,d){d&4&&s!==(s=b[2].tasting_notes+"")&&j(c,s)},d(b){b&&k(e)}}}function Po(n){let e,t;function l(s,c){return s[3]?ho:s[2]?mo:wo}let i=l(n),r=i(n);return{c(){e=w(),t=f("div"),r.c(),document.title="Brew Details - Arabica",a(t,"class","max-w-2xl mx-auto")},m(s,c){y(s,e,c),y(s,t,c),r.m(t,null)},p(s,[c]){i===(i=l(s))&&r?r.p(s,c):(r.d(1),r=i(s),r&&(r.c(),r.m(t,null)))},i:W,o:W,d(s){s&&(k(e),k(t)),r.d()}}}function Dt(n){return n!=null&&n!==""}function ol(n){return n?new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"2-digit"}):""}function Do(n,e,t){let l,i,r,s,c;ut(n,Te,A=>t(15,s=A)),ut(n,pt,A=>t(8,c=A));let{id:u=null}=e,{did:b=null}=e,{rkey:d=null}=e,p=null,_=!0,m=!1;vt(async()=>{if(!l){_e("/login");return}b&&d?(t(4,m=b===i),await g(b,d)):u&&(t(4,m=!0),await h(u)),t(3,_=!1)});async function h(A){await Te.load();const N=s.brews||[];t(2,p=N.find(P=>P.rkey===A))}async function g(A,N){try{const P=`at://${A}/social.arabica.alpha.brew/${N}`;t(2,p=await ge.get(`/api/brew?uri=${encodeURIComponent(P)}`))}catch(P){console.error("Failed to load brew:",P),P.message}}async function B(){if(!confirm("Are you sure you want to delete this brew?"))return;const A=d||u;if(!A){alert("Cannot delete brew: missing ID");return}try{await ge.delete(`/brews/${A}`),await Te.invalidate(),_e("/brews")}catch(N){alert("Failed to delete brew: "+N.message)}}const v=()=>_e("/brews"),x=()=>_e(`/brews/${d||u||p.rkey}/edit`),S=()=>_e("/brews");return n.$$set=A=>{"id"in A&&t(0,u=A.id),"did"in A&&t(7,b=A.did),"rkey"in A&&t(1,d=A.rkey)},n.$$.update=()=>{var A;n.$$.dirty&256&&(l=c.isAuthenticated),n.$$.dirty&256&&(i=(A=c.user)==null?void 0:A.did),n.$$.dirty&4&&t(5,r=p&&(p.water_amount||0)===0&&p.pours&&p.pours.length>0?p.pours.reduce((N,P)=>N+(P.water_amount||0),0):(p==null?void 0:p.water_amount)||0)},[u,d,p,_,m,r,B,b,c,v,x,S]}class il extends Xe{constructor(e){super(),Qe(this,e,Do,Po,We,{id:0,did:7,rkey:1})}}function sl(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h;const g=n[5].default,B=sr(g,n,n[4],null);return{c(){e=f("div"),t=f("div"),l=f("h3"),i=C(n[3]),r=w(),s=f("div"),B&&B.c(),c=w(),u=f("div"),b=f("button"),b.textContent="Save",d=w(),p=f("button"),p.textContent="Cancel",a(l,"class","text-xl font-semibold mb-4 text-brown-900"),a(b,"type","button"),a(b,"class","flex-1 bg-gradient-to-r from-brown-700 to-brown-800 text-white px-4 py-2 rounded-lg hover:from-brown-800 hover:to-brown-900 font-medium transition-all shadow-md"),a(p,"type","button"),a(p,"class","flex-1 bg-brown-300 text-brown-900 px-4 py-2 rounded-lg hover:bg-brown-400 font-medium transition-colors"),a(u,"class","flex gap-2"),a(s,"class","space-y-4"),a(t,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl border-2 border-brown-300 p-8 max-w-md w-full mx-4 shadow-2xl"),a(e,"class","fixed inset-0 bg-black/40 flex items-center justify-center z-50")},m(v,x){y(v,e,x),o(e,t),o(t,l),o(l,i),o(t,r),o(t,s),B&&B.m(s,null),o(s,c),o(s,u),o(u,b),o(u,d),o(u,p),_=!0,m||(h=[z(b,"click",function(){Vt(n[0])&&n[0].apply(this,arguments)}),z(p,"click",function(){Vt(n[1])&&n[1].apply(this,arguments)})],m=!0)},p(v,x){n=v,(!_||x&8)&&j(i,n[3]),B&&B.p&&(!_||x&16)&&ur(B,g,n,n[4],_?ar(g,n[4],x,null):cr(n[4]),null)},i(v){_||(ve(B,v),_=!0)},o(v){Oe(B,v),_=!1},d(v){v&&k(e),B&&B.d(v),m=!1,ce(h)}}}function Fo(n){let e,t,l=n[2]&&sl(n);return{c(){l&&l.c(),e=ft()},m(i,r){l&&l.m(i,r),y(i,e,r),t=!0},p(i,[r]){i[2]?l?(l.p(i,r),r&4&&ve(l,1)):(l=sl(i),l.c(),ve(l,1),l.m(e.parentNode,e)):l&&(jt(),Oe(l,1,1,()=>{l=null}),Ht())},i(i){t||(ve(l),t=!0)},o(i){Oe(l),t=!1},d(i){i&&k(e),l&&l.d(i)}}}function Ro(n,e,t){let{$$slots:l={},$$scope:i}=e,{onSave:r}=e,{onCancel:s}=e,{isOpen:c=!1}=e,{title:u="Modal"}=e;return n.$$set=b=>{"onSave"in b&&t(0,r=b.onSave),"onCancel"in b&&t(1,s=b.onCancel),"isOpen"in b&&t(2,c=b.isOpen),"title"in b&&t(3,u=b.title),"$$scope"in b&&t(4,i=b.$$scope)},[r,s,c,u,i,l]}class ht extends Xe{constructor(e){super(),Qe(this,e,Ro,Fo,We,{onSave:0,onCancel:1,isOpen:2,title:3})}}function al(n,e,t){const l=n.slice();return l[66]=e[t],l}function ul(n,e,t){const l=n.slice();return l[69]=e[t],l[70]=e,l[71]=t,l}function cl(n,e,t){const l=n.slice();return l[72]=e[t],l}function fl(n,e,t){const l=n.slice();return l[75]=e[t],l}function dl(n,e,t){const l=n.slice();return l[78]=e[t],l}function jo(n){let e,t,l,i,r,s=n[0]==="edit"?"Edit Brew":"New Brew",c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P,L,O,D,F,G,E,T,R,V,X,J,I,Y,ue,$,Ae,ke,De,ye,Me,we,Fe,Ee,ae,te,ie,re,oe,he,fe,pe,Ie,se,ee,qe,Pe,Re,Se,Ze,xe,Ye,$e,de,je,be,Ce,q,Z,K,me,dt,He,Ne,ze,M,ne=n[1].rating+"",Qt,on,sn,st,an,zt,un,Et,Pt,cn,bt,fn,Ct,kt,Gt=n[4]?"Saving...":n[0]==="edit"?"Update Brew":"Save Brew",Xt,dn,Bt,Zt,bn,et=n[5]&&bl(n),At=le(n[17]),Ve=[];for(let U=0;U<At.length;U+=1)Ve[U]=pl(dl(n,At,U));let St=le(n[15]),Ke=[];for(let U=0;U<St.length;U+=1)Ke[U]=_l(fl(n,St,U));let Nt=le(n[14]),Je=[];for(let U=0;U<Nt.length;U+=1)Je[U]=ml(cl(n,Nt,U));let tt=n[2].length>0&&wl(n);return{c(){e=f("div"),t=f("div"),l=f("button"),l.innerHTML='<svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18"></path></svg>',i=w(),r=f("h2"),c=C(s),u=w(),et&&et.c(),b=w(),d=f("form"),p=f("div"),_=f("label"),_.textContent="Coffee Bean *",m=w(),h=f("div"),g=f("select"),B=f("option"),B.textContent="Select a bean...";for(let U=0;U<Ve.length;U+=1)Ve[U].c();v=w(),x=f("button"),x.textContent="+ New",S=w(),A=f("div"),N=f("label"),N.textContent="Coffee Amount (grams)",P=w(),L=f("input"),O=w(),D=f("p"),D.textContent="Amount of ground coffee used",F=w(),G=f("div"),E=f("label"),E.textContent="Grinder",T=w(),R=f("div"),V=f("select"),X=f("option"),X.textContent="Select a grinder...";for(let U=0;U<Ke.length;U+=1)Ke[U].c();J=w(),I=f("button"),I.textContent="+ New",Y=w(),ue=f("div"),$=f("label"),$.textContent="Grind Size",Ae=w(),ke=f("input"),De=w(),ye=f("p"),ye.textContent='Enter a number (grinder setting) or description (e.g. "Medium", "Fine")',Me=w(),we=f("div"),Fe=f("label"),Fe.textContent="Brew Method",Ee=w(),ae=f("div"),te=f("select"),ie=f("option"),ie.textContent="Select brew method...";for(let U=0;U<Je.length;U+=1)Je[U].c();re=w(),oe=f("button"),oe.textContent="+ New",he=w(),fe=f("div"),pe=f("label"),pe.textContent="Water Amount (ml)",Ie=w(),se=f("input"),ee=w(),qe=f("div"),Pe=f("label"),Pe.textContent="Water Temperature (¬∞C)",Re=w(),Se=f("input"),Ze=w(),xe=f("div"),Ye=f("label"),Ye.textContent="Total Brew Time (seconds)",$e=w(),de=f("input"),je=w(),be=f("div"),Ce=f("div"),q=f("span"),q.textContent="Pour Schedule (Optional)",Z=w(),K=f("button"),K.textContent="+ Add Pour",me=w(),tt&&tt.c(),dt=w(),He=f("div"),Ne=f("label"),ze=C("Rating: "),M=f("span"),Qt=C(ne),on=C("/10"),sn=w(),st=f("input"),an=w(),zt=f("div"),zt.innerHTML="<span>0</span> <span>10</span>",un=w(),Et=f("div"),Pt=f("label"),Pt.textContent="Tasting Notes",cn=w(),bt=f("textarea"),fn=w(),Ct=f("div"),kt=f("button"),Xt=C(Gt),dn=w(),Bt=f("button"),Bt.textContent="Cancel",a(l,"class","inline-flex items-center text-brown-700 hover:text-brown-900 font-medium transition-colors cursor-pointer"),a(r,"class","text-3xl font-bold text-brown-900"),a(t,"class","flex items-center gap-3 mb-6"),a(_,"for","bean-select"),a(_,"class","block text-sm font-medium text-brown-900 mb-2"),B.__value="",H(B,B.__value),a(g,"id","bean-select"),g.required=!0,a(g,"class","flex-1 rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 truncate max-w-full bg-white"),n[1].bean_rkey===void 0&&rt(()=>n[29].call(g)),a(x,"type","button"),a(x,"class","bg-brown-300 text-brown-900 px-4 py-2 rounded-lg hover:bg-brown-400 font-medium transition-colors"),a(h,"class","flex gap-2"),a(N,"for","coffee-amount"),a(N,"class","block text-sm font-medium text-brown-900 mb-2"),a(L,"id","coffee-amount"),a(L,"type","number"),a(L,"step","0.1"),a(L,"placeholder","e.g. 18"),a(L,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(D,"class","text-sm text-brown-700 mt-1"),a(E,"for","grinder-select"),a(E,"class","block text-sm font-medium text-brown-900 mb-2"),X.__value="",H(X,X.__value),a(V,"id","grinder-select"),a(V,"class","flex-1 rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 truncate max-w-full bg-white"),n[1].grinder_rkey===void 0&&rt(()=>n[32].call(V)),a(I,"type","button"),a(I,"class","bg-brown-300 text-brown-900 px-4 py-2 rounded-lg hover:bg-brown-400 font-medium transition-colors"),a(R,"class","flex gap-2"),a($,"for","grind-size"),a($,"class","block text-sm font-medium text-brown-900 mb-2"),a(ke,"id","grind-size"),a(ke,"type","text"),a(ke,"placeholder","e.g. 18, Medium, 3.5, Fine"),a(ke,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(ye,"class","text-sm text-brown-700 mt-1"),a(Fe,"for","brewer-select"),a(Fe,"class","block text-sm font-medium text-brown-900 mb-2"),ie.__value="",H(ie,ie.__value),a(te,"id","brewer-select"),a(te,"class","flex-1 rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 truncate max-w-full bg-white"),n[1].brewer_rkey===void 0&&rt(()=>n[35].call(te)),a(oe,"type","button"),a(oe,"class","bg-brown-300 text-brown-900 px-4 py-2 rounded-lg hover:bg-brown-400 font-medium transition-colors"),a(ae,"class","flex gap-2"),a(pe,"for","water-amount"),a(pe,"class","block text-sm font-medium text-brown-900 mb-2"),a(se,"id","water-amount"),a(se,"type","number"),a(se,"step","1"),a(se,"placeholder","e.g. 300"),a(se,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(Pe,"for","water-temp"),a(Pe,"class","block text-sm font-medium text-brown-900 mb-2"),a(Se,"id","water-temp"),a(Se,"type","number"),a(Se,"step","0.1"),a(Se,"placeholder","e.g. 93"),a(Se,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(Ye,"for","brew-time"),a(Ye,"class","block text-sm font-medium text-brown-900 mb-2"),a(de,"id","brew-time"),a(de,"type","number"),a(de,"step","1"),a(de,"placeholder","e.g. 210"),a(de,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(q,"class","block text-sm font-medium text-brown-900"),a(K,"type","button"),a(K,"class","text-sm bg-brown-300 text-brown-900 px-3 py-1 rounded hover:bg-brown-400 font-medium transition-colors"),a(Ce,"class","flex items-center justify-between mb-2"),a(M,"class","font-bold"),a(Ne,"for","rating"),a(Ne,"class","block text-sm font-medium text-brown-900 mb-2"),a(st,"id","rating"),a(st,"type","range"),a(st,"min","0"),a(st,"max","10"),a(st,"step","1"),a(st,"class","w-full h-2 bg-brown-200 rounded-lg appearance-none cursor-pointer accent-brown-700"),a(zt,"class","flex justify-between text-xs text-brown-600 mt-1"),a(Pt,"for","notes"),a(Pt,"class","block text-sm font-medium text-brown-900 mb-2"),a(bt,"id","notes"),a(bt,"rows","4"),a(bt,"placeholder","Describe the flavor, aroma, body, etc."),a(bt,"class","w-full rounded-lg border-2 border-brown-300 shadow-sm focus:border-brown-600 focus:ring-brown-600 text-base py-3 px-4 bg-white"),a(kt,"type","submit"),kt.disabled=n[4],a(kt,"class","flex-1 bg-gradient-to-r from-brown-700 to-brown-800 text-white py-3 px-6 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg disabled:opacity-50"),a(Bt,"type","button"),a(Bt,"class","px-6 py-3 border-2 border-brown-300 text-brown-700 rounded-lg hover:bg-brown-100 font-semibold transition-colors"),a(Ct,"class","flex gap-3"),a(d,"class","space-y-6"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 border border-brown-300")},m(U,Be){y(U,e,Be),o(e,t),o(t,l),o(t,i),o(t,r),o(r,c),o(e,u),et&&et.m(e,null),o(e,b),o(e,d),o(d,p),o(p,_),o(p,m),o(p,h),o(h,g),o(g,B);for(let Q=0;Q<Ve.length;Q+=1)Ve[Q]&&Ve[Q].m(g,null);Le(g,n[1].bean_rkey,!0),o(h,v),o(h,x),o(d,S),o(d,A),o(A,N),o(A,P),o(A,L),H(L,n[1].coffee_amount),o(A,O),o(A,D),o(d,F),o(d,G),o(G,E),o(G,T),o(G,R),o(R,V),o(V,X);for(let Q=0;Q<Ke.length;Q+=1)Ke[Q]&&Ke[Q].m(V,null);Le(V,n[1].grinder_rkey,!0),o(R,J),o(R,I),o(d,Y),o(d,ue),o(ue,$),o(ue,Ae),o(ue,ke),H(ke,n[1].grind_size),o(ue,De),o(ue,ye),o(d,Me),o(d,we),o(we,Fe),o(we,Ee),o(we,ae),o(ae,te),o(te,ie);for(let Q=0;Q<Je.length;Q+=1)Je[Q]&&Je[Q].m(te,null);Le(te,n[1].brewer_rkey,!0),o(ae,re),o(ae,oe),o(d,he),o(d,fe),o(fe,pe),o(fe,Ie),o(fe,se),H(se,n[1].water_amount),o(d,ee),o(d,qe),o(qe,Pe),o(qe,Re),o(qe,Se),H(Se,n[1].water_temp),o(d,Ze),o(d,xe),o(xe,Ye),o(xe,$e),o(xe,de),H(de,n[1].brew_time),o(d,je),o(d,be),o(be,Ce),o(Ce,q),o(Ce,Z),o(Ce,K),o(be,me),tt&&tt.m(be,null),o(d,dt),o(d,He),o(He,Ne),o(Ne,ze),o(Ne,M),o(M,Qt),o(M,on),o(He,sn),o(He,st),H(st,n[1].rating),o(He,an),o(He,zt),o(d,un),o(d,Et),o(Et,Pt),o(Et,cn),o(Et,bt),H(bt,n[1].notes),o(d,fn),o(d,Ct),o(Ct,kt),o(kt,Xt),o(Ct,dn),o(Ct,Bt),Zt||(bn=[z(l,"click",n[28]),z(g,"change",n[29]),z(x,"click",n[30]),z(L,"input",n[31]),z(V,"change",n[32]),z(I,"click",n[33]),z(ke,"input",n[34]),z(te,"change",n[35]),z(oe,"click",n[36]),z(se,"input",n[37]),z(Se,"input",n[38]),z(de,"input",n[39]),z(K,"click",n[18]),z(st,"change",n[43]),z(st,"input",n[43]),z(bt,"input",n[44]),z(Bt,"click",n[45]),z(d,"submit",Ue(n[20]))],Zt=!0)},p(U,Be){if(Be[0]&1&&s!==(s=U[0]==="edit"?"Edit Brew":"New Brew")&&j(c,s),U[5]?et?et.p(U,Be):(et=bl(U),et.c(),et.m(e,b)):et&&(et.d(1),et=null),Be[0]&131072){At=le(U[17]);let Q;for(Q=0;Q<At.length;Q+=1){const _t=dl(U,At,Q);Ve[Q]?Ve[Q].p(_t,Be):(Ve[Q]=pl(_t),Ve[Q].c(),Ve[Q].m(g,null))}for(;Q<Ve.length;Q+=1)Ve[Q].d(1);Ve.length=At.length}if(Be[0]&131074&&Le(g,U[1].bean_rkey),Be[0]&131074&&ot(L.value)!==U[1].coffee_amount&&H(L,U[1].coffee_amount),Be[0]&32768){St=le(U[15]);let Q;for(Q=0;Q<St.length;Q+=1){const _t=fl(U,St,Q);Ke[Q]?Ke[Q].p(_t,Be):(Ke[Q]=_l(_t),Ke[Q].c(),Ke[Q].m(V,null))}for(;Q<Ke.length;Q+=1)Ke[Q].d(1);Ke.length=St.length}if(Be[0]&131074&&Le(V,U[1].grinder_rkey),Be[0]&131074&&ke.value!==U[1].grind_size&&H(ke,U[1].grind_size),Be[0]&16384){Nt=le(U[14]);let Q;for(Q=0;Q<Nt.length;Q+=1){const _t=cl(U,Nt,Q);Je[Q]?Je[Q].p(_t,Be):(Je[Q]=ml(_t),Je[Q].c(),Je[Q].m(te,null))}for(;Q<Je.length;Q+=1)Je[Q].d(1);Je.length=Nt.length}Be[0]&131074&&Le(te,U[1].brewer_rkey),Be[0]&131074&&ot(se.value)!==U[1].water_amount&&H(se,U[1].water_amount),Be[0]&131074&&ot(Se.value)!==U[1].water_temp&&H(Se,U[1].water_temp),Be[0]&131074&&ot(de.value)!==U[1].brew_time&&H(de,U[1].brew_time),U[2].length>0?tt?tt.p(U,Be):(tt=wl(U),tt.c(),tt.m(be,null)):tt&&(tt.d(1),tt=null),Be[0]&2&&ne!==(ne=U[1].rating+"")&&j(Qt,ne),Be[0]&131074&&H(st,U[1].rating),Be[0]&131074&&H(bt,U[1].notes),Be[0]&17&&Gt!==(Gt=U[4]?"Saving...":U[0]==="edit"?"Update Brew":"Save Brew")&&j(Xt,Gt),Be[0]&16&&(kt.disabled=U[4])},d(U){U&&k(e),et&&et.d(),Ge(Ve,U),Ge(Ke,U),Ge(Je,U),tt&&tt.d(),Zt=!1,ce(bn)}}}function Ho(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-brown-800 mx-auto"></div> <p class="mt-4 text-brown-700">Loading...</p>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function bl(n){let e,t;return{c(){e=f("div"),t=C(n[5]),a(e,"class","mb-4 bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded")},m(l,i){y(l,e,i),o(e,t)},p(l,i){i[0]&32&&j(t,l[5])},d(l){l&&k(e)}}}function pl(n){let e,t=(n[78].name||n[78].origin)+"",l,i,r=n[78].origin+"",s,c,u=n[78].roast_level+"",b,d,p;return{c(){e=f("option"),l=C(t),i=C(" ("),s=C(r),c=C(" - "),b=C(u),d=C(`)
                `),e.__value=p=n[78].rkey,H(e,e.__value)},m(_,m){y(_,e,m),o(e,l),o(e,i),o(e,s),o(e,c),o(e,b),o(e,d)},p(_,m){m[0]&131072&&t!==(t=(_[78].name||_[78].origin)+"")&&j(l,t),m[0]&131072&&r!==(r=_[78].origin+"")&&j(s,r),m[0]&131072&&u!==(u=_[78].roast_level+"")&&j(b,u),m[0]&131072&&p!==(p=_[78].rkey)&&(e.__value=p,H(e,e.__value))},d(_){_&&k(e)}}}function _l(n){let e,t=n[75].name+"",l,i;return{c(){e=f("option"),l=C(t),e.__value=i=n[75].rkey,H(e,e.__value)},m(r,s){y(r,e,s),o(e,l)},p(r,s){s[0]&32768&&t!==(t=r[75].name+"")&&j(l,t),s[0]&32768&&i!==(i=r[75].rkey)&&(e.__value=i,H(e,e.__value))},d(r){r&&k(e)}}}function ml(n){let e,t=n[72].name+"",l,i;return{c(){e=f("option"),l=C(t),e.__value=i=n[72].rkey,H(e,e.__value)},m(r,s){y(r,e,s),o(e,l)},p(r,s){s[0]&16384&&t!==(t=r[72].name+"")&&j(l,t),s[0]&16384&&i!==(i=r[72].rkey)&&(e.__value=i,H(e,e.__value))},d(r){r&&k(e)}}}function wl(n){let e,t=le(n[2]),l=[];for(let i=0;i<t.length;i+=1)l[i]=hl(ul(n,t,i));return{c(){e=f("div");for(let i=0;i<l.length;i+=1)l[i].c();a(e,"class","space-y-2")},m(i,r){y(i,e,r);for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(e,null)},p(i,r){if(r[0]&524292){t=le(i[2]);let s;for(s=0;s<t.length;s+=1){const c=ul(i,t,s);l[s]?l[s].p(c,r):(l[s]=hl(c),l[s].c(),l[s].m(e,null))}for(;s<l.length;s+=1)l[s].d(1);l.length=t.length}},d(i){i&&k(e),Ge(l,i)}}}function hl(n){let e,t,l,i,r,s,c,u,b,d,p;function _(){n[40].call(i,n[70],n[71])}function m(){n[41].call(s,n[70],n[71])}function h(){return n[42](n[71])}return{c(){e=f("div"),t=f("span"),t.textContent=`Pour ${n[71]+1}:`,l=w(),i=f("input"),r=w(),s=f("input"),c=w(),u=f("button"),u.textContent="‚úï",b=w(),a(t,"class","text-sm font-medium text-brown-700 min-w-[60px]"),a(i,"type","number"),a(i,"placeholder","Water (g)"),a(i,"class","flex-1 rounded border border-brown-300 px-3 py-2 text-sm"),a(s,"type","number"),a(s,"placeholder","Time (s)"),a(s,"class","flex-1 rounded border border-brown-300 px-3 py-2 text-sm"),a(u,"type","button"),a(u,"class","text-red-600 hover:text-red-800 font-medium px-2"),a(e,"class","flex gap-2 items-center bg-brown-50 p-3 rounded-lg border border-brown-200")},m(g,B){y(g,e,B),o(e,t),o(e,l),o(e,i),H(i,n[69].water_amount),o(e,r),o(e,s),H(s,n[69].time_seconds),o(e,c),o(e,u),o(e,b),d||(p=[z(i,"input",_),z(s,"input",m),z(u,"click",h)],d=!0)},p(g,B){n=g,B[0]&4&&ot(i.value)!==n[69].water_amount&&H(i,n[69].water_amount),B[0]&4&&ot(s.value)!==n[69].time_seconds&&H(s,n[69].time_seconds)},d(g){g&&k(e),d=!1,ce(p)}}}function gl(n){let e,t=n[66].name+"",l,i;return{c(){e=f("option"),l=C(t),e.__value=i=n[66].rkey,H(e,e.__value)},m(r,s){y(r,e,s),o(e,l)},p(r,s){s[0]&65536&&t!==(t=r[66].name+"")&&j(l,t),s[0]&65536&&i!==(i=r[66].rkey)&&(e.__value=i,H(e,e.__value))},d(r){r&&k(e)}}}function zo(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P,L,O,D,F,G,E,T,R,V,X,J=le(n[16]),I=[];for(let Y=0;Y<J.length;Y+=1)I[Y]=gl(al(n,J,Y));return{c(){e=f("div"),t=f("div"),l=f("label"),l.textContent="Name",i=w(),r=f("input"),s=w(),c=f("div"),u=f("label"),u.textContent="Origin *",b=w(),d=f("input"),p=w(),_=f("div"),m=f("label"),m.textContent="Roast Level *",h=w(),g=f("select"),B=f("option"),B.textContent="Select...",v=f("option"),v.textContent="Light",x=f("option"),x.textContent="Medium-Light",S=f("option"),S.textContent="Medium",A=f("option"),A.textContent="Medium-Dark",N=f("option"),N.textContent="Dark",P=w(),L=f("div"),O=f("label"),O.textContent="Roaster",D=w(),F=f("div"),G=f("select"),E=f("option"),E.textContent="Select...";for(let Y=0;Y<I.length;Y+=1)I[Y].c();T=w(),R=f("button"),R.textContent="+ New",a(l,"for","bean-name"),a(l,"class","block text-sm font-medium text-gray-700 mb-1"),a(r,"id","bean-name"),a(r,"type","text"),a(r,"class","w-full rounded border-gray-300 px-3 py-2"),a(u,"for","bean-origin"),a(u,"class","block text-sm font-medium text-gray-700 mb-1"),a(d,"id","bean-origin"),a(d,"type","text"),d.required=!0,a(d,"class","w-full rounded border-gray-300 px-3 py-2"),a(m,"for","bean-roast-level"),a(m,"class","block text-sm font-medium text-gray-700 mb-1"),B.__value="",H(B,B.__value),v.__value="Light",H(v,v.__value),x.__value="Medium-Light",H(x,x.__value),S.__value="Medium",H(S,S.__value),A.__value="Medium-Dark",H(A,A.__value),N.__value="Dark",H(N,N.__value),a(g,"id","bean-roast-level"),g.required=!0,a(g,"class","w-full rounded border-gray-300 px-3 py-2"),n[10].roast_level===void 0&&rt(()=>n[48].call(g)),a(O,"for","bean-roaster"),a(O,"class","block text-sm font-medium text-gray-700 mb-1"),E.__value="",H(E,E.__value),a(G,"id","bean-roaster"),a(G,"class","flex-1 rounded border-gray-300 px-3 py-2"),n[10].roaster_rkey===void 0&&rt(()=>n[49].call(G)),a(R,"type","button"),a(R,"class","bg-gray-200 px-3 py-1 rounded hover:bg-gray-300 text-sm"),a(F,"class","flex gap-2"),a(e,"class","space-y-4")},m(Y,ue){y(Y,e,ue),o(e,t),o(t,l),o(t,i),o(t,r),H(r,n[10].name),o(e,s),o(e,c),o(c,u),o(c,b),o(c,d),H(d,n[10].origin),o(e,p),o(e,_),o(_,m),o(_,h),o(_,g),o(g,B),o(g,v),o(g,x),o(g,S),o(g,A),o(g,N),Le(g,n[10].roast_level,!0),o(e,P),o(e,L),o(L,O),o(L,D),o(L,F),o(F,G),o(G,E);for(let $=0;$<I.length;$+=1)I[$]&&I[$].m(G,null);Le(G,n[10].roaster_rkey,!0),o(F,T),o(F,R),V||(X=[z(r,"input",n[46]),z(d,"input",n[47]),z(g,"change",n[48]),z(G,"change",n[49]),z(R,"click",n[50])],V=!0)},p(Y,ue){if(ue[0]&1024&&r.value!==Y[10].name&&H(r,Y[10].name),ue[0]&1024&&d.value!==Y[10].origin&&H(d,Y[10].origin),ue[0]&1024&&Le(g,Y[10].roast_level),ue[0]&65536){J=le(Y[16]);let $;for($=0;$<J.length;$+=1){const Ae=al(Y,J,$);I[$]?I[$].p(Ae,ue):(I[$]=gl(Ae),I[$].c(),I[$].m(G,null))}for(;$<I.length;$+=1)I[$].d(1);I.length=J.length}ue[0]&1024&&Le(G,Y[10].roaster_rkey)},d(Y){Y&&k(e),Ge(I,Y),V=!1,ce(X)}}}function Go(n){let e,t,l,i,r,s,c,u,b,d,p,_;return{c(){e=f("div"),t=f("div"),l=f("label"),l.textContent="Name *",i=w(),r=f("input"),s=w(),c=f("div"),u=f("label"),u.textContent="Location",b=w(),d=f("input"),a(l,"for","roaster-name"),a(l,"class","block text-sm font-medium text-gray-700 mb-1"),a(r,"id","roaster-name"),a(r,"type","text"),r.required=!0,a(r,"class","w-full rounded border-gray-300 px-3 py-2"),a(u,"for","roaster-location"),a(u,"class","block text-sm font-medium text-gray-700 mb-1"),a(d,"id","roaster-location"),a(d,"type","text"),a(d,"class","w-full rounded border-gray-300 px-3 py-2"),a(e,"class","space-y-4")},m(m,h){y(m,e,h),o(e,t),o(t,l),o(t,i),o(t,r),H(r,n[11].name),o(e,s),o(e,c),o(c,u),o(c,b),o(c,d),H(d,n[11].location),p||(_=[z(r,"input",n[53]),z(d,"input",n[54])],p=!0)},p(m,h){h[0]&2048&&r.value!==m[11].name&&H(r,m[11].name),h[0]&2048&&d.value!==m[11].location&&H(d,m[11].location)},d(m){m&&k(e),p=!1,ce(_)}}}function Io(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B;return{c(){e=f("div"),t=f("div"),l=f("label"),l.textContent="Name *",i=w(),r=f("input"),s=w(),c=f("div"),u=f("label"),u.textContent="Type",b=w(),d=f("select"),p=f("option"),p.textContent="Select...",_=f("option"),_.textContent="Manual",m=f("option"),m.textContent="Electric",h=f("option"),h.textContent="Blade",a(l,"for","grinder-name"),a(l,"class","block text-sm font-medium text-gray-700 mb-1"),a(r,"id","grinder-name"),a(r,"type","text"),r.required=!0,a(r,"class","w-full rounded border-gray-300 px-3 py-2"),a(u,"for","grinder-type"),a(u,"class","block text-sm font-medium text-gray-700 mb-1"),p.__value="",H(p,p.__value),_.__value="Manual",H(_,_.__value),m.__value="Electric",H(m,m.__value),h.__value="Blade",H(h,h.__value),a(d,"id","grinder-type"),a(d,"class","w-full rounded border-gray-300 px-3 py-2"),n[12].grinder_type===void 0&&rt(()=>n[58].call(d)),a(e,"class","space-y-4")},m(v,x){y(v,e,x),o(e,t),o(t,l),o(t,i),o(t,r),H(r,n[12].name),o(e,s),o(e,c),o(c,u),o(c,b),o(c,d),o(d,p),o(d,_),o(d,m),o(d,h),Le(d,n[12].grinder_type,!0),g||(B=[z(r,"input",n[57]),z(d,"change",n[58])],g=!0)},p(v,x){x[0]&4096&&r.value!==v[12].name&&H(r,v[12].name),x[0]&4096&&Le(d,v[12].grinder_type)},d(v){v&&k(e),g=!1,ce(B)}}}function Uo(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A;return{c(){e=f("div"),t=f("div"),l=f("label"),l.textContent="Name *",i=w(),r=f("input"),s=w(),c=f("div"),u=f("label"),u.textContent="Type",b=w(),d=f("select"),p=f("option"),p.textContent="Select...",_=f("option"),_.textContent="Pour Over",m=f("option"),m.textContent="French Press",h=f("option"),h.textContent="Espresso",g=f("option"),g.textContent="Moka Pot",B=f("option"),B.textContent="Aeropress",v=f("option"),v.textContent="Cold Brew",x=f("option"),x.textContent="Siphon",a(l,"for","brewer-name"),a(l,"class","block text-sm font-medium text-gray-700 mb-1"),a(r,"id","brewer-name"),a(r,"type","text"),r.required=!0,a(r,"class","w-full rounded border-gray-300 px-3 py-2"),a(u,"for","brewer-type"),a(u,"class","block text-sm font-medium text-gray-700 mb-1"),p.__value="",H(p,p.__value),_.__value="Pour Over",H(_,_.__value),m.__value="French Press",H(m,m.__value),h.__value="Espresso",H(h,h.__value),g.__value="Moka Pot",H(g,g.__value),B.__value="Aeropress",H(B,B.__value),v.__value="Cold Brew",H(v,v.__value),x.__value="Siphon",H(x,x.__value),a(d,"id","brewer-type"),a(d,"class","w-full rounded border-gray-300 px-3 py-2"),n[13].brewer_type===void 0&&rt(()=>n[62].call(d)),a(e,"class","space-y-4")},m(N,P){y(N,e,P),o(e,t),o(t,l),o(t,i),o(t,r),H(r,n[13].name),o(e,s),o(e,c),o(c,u),o(c,b),o(c,d),o(d,p),o(d,_),o(d,m),o(d,h),o(d,g),o(d,B),o(d,v),o(d,x),Le(d,n[13].brewer_type,!0),S||(A=[z(r,"input",n[61]),z(d,"change",n[62])],S=!0)},p(N,P){P[0]&8192&&r.value!==N[13].name&&H(r,N[13].name),P[0]&8192&&Le(d,N[13].brewer_type)},d(N){N&&k(e),S=!1,ce(A)}}}function Wo(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B;document.title=e=(n[0]==="edit"?"Edit Brew":"New Brew")+" - Arabica";function v(E,T){return E[3]?Ho:jo}let x=v(n),S=x(n);function A(E){n[52](E)}let N={title:"Add New Bean",onSave:n[21],onCancel:n[51],$$slots:{default:[zo]},$$scope:{ctx:n}};n[6]!==void 0&&(N.isOpen=n[6]),r=new ht({props:N}),ct.push(()=>wt(r,"isOpen",A));function P(E){n[56](E)}let L={title:"Add New Roaster",onSave:n[22],onCancel:n[55],$$slots:{default:[Go]},$$scope:{ctx:n}};n[7]!==void 0&&(L.isOpen=n[7]),u=new ht({props:L}),ct.push(()=>wt(u,"isOpen",P));function O(E){n[60](E)}let D={title:"Add New Grinder",onSave:n[23],onCancel:n[59],$$slots:{default:[Io]},$$scope:{ctx:n}};n[8]!==void 0&&(D.isOpen=n[8]),p=new ht({props:D}),ct.push(()=>wt(p,"isOpen",O));function F(E){n[64](E)}let G={title:"Add New Brewer",onSave:n[24],onCancel:n[63],$$slots:{default:[Uo]},$$scope:{ctx:n}};return n[9]!==void 0&&(G.isOpen=n[9]),h=new ht({props:G}),ct.push(()=>wt(h,"isOpen",F)),{c(){t=w(),l=f("div"),S.c(),i=w(),it(r.$$.fragment),c=w(),it(u.$$.fragment),d=w(),it(p.$$.fragment),m=w(),it(h.$$.fragment),a(l,"class","max-w-2xl mx-auto")},m(E,T){y(E,t,T),y(E,l,T),S.m(l,null),y(E,i,T),nt(r,E,T),y(E,c,T),nt(u,E,T),y(E,d,T),nt(p,E,T),y(E,m,T),nt(h,E,T),B=!0},p(E,T){(!B||T[0]&1)&&e!==(e=(E[0]==="edit"?"Edit Brew":"New Brew")+" - Arabica")&&(document.title=e),x===(x=v(E))&&S?S.p(E,T):(S.d(1),S=x(E),S&&(S.c(),S.m(l,null)));const R={};T[0]&64&&(R.onCancel=E[51]),T[0]&66688|T[2]&524288&&(R.$$scope={dirty:T,ctx:E}),!s&&T[0]&64&&(s=!0,R.isOpen=E[6],mt(()=>s=!1)),r.$set(R);const V={};T[0]&128&&(V.onCancel=E[55]),T[0]&2048|T[2]&524288&&(V.$$scope={dirty:T,ctx:E}),!b&&T[0]&128&&(b=!0,V.isOpen=E[7],mt(()=>b=!1)),u.$set(V);const X={};T[0]&256&&(X.onCancel=E[59]),T[0]&4096|T[2]&524288&&(X.$$scope={dirty:T,ctx:E}),!_&&T[0]&256&&(_=!0,X.isOpen=E[8],mt(()=>_=!1)),p.$set(X);const J={};T[0]&512&&(J.onCancel=E[63]),T[0]&8192|T[2]&524288&&(J.$$scope={dirty:T,ctx:E}),!g&&T[0]&512&&(g=!0,J.isOpen=E[9],mt(()=>g=!1)),h.$set(J)},i(E){B||(ve(r.$$.fragment,E),ve(u.$$.fragment,E),ve(p.$$.fragment,E),ve(h.$$.fragment,E),B=!0)},o(E){Oe(r.$$.fragment,E),Oe(u.$$.fragment,E),Oe(p.$$.fragment,E),Oe(h.$$.fragment,E),B=!1},d(E){E&&(k(t),k(l),k(i),k(c),k(d),k(m)),S.d(),lt(r,E),lt(u,E),lt(p,E),lt(h,E)}}}function qo(n,e,t){let l,i,r,s,c,u,b;ut(n,Te,q=>t(26,u=q)),ut(n,pt,q=>t(27,b=q));let{id:d=null}=e,{mode:p="create"}=e,_={bean_rkey:"",coffee_amount:"",grinder_rkey:"",grind_size:"",brewer_rkey:"",water_amount:"",water_temp:"",brew_time:"",notes:"",rating:5},m=[],h=!0,g=!1,B=null,v=!1,x=!1,S=!1,A=!1,N={name:"",origin:"",roast_level:"",process:"",description:"",roaster_rkey:""},P={name:"",location:"",website:"",description:""},L={name:"",grinder_type:"",burr_type:"",notes:""},O={name:"",brewer_type:"",description:""};vt(async()=>{if(!c){_e("/login");return}if(await Te.load(),p==="edit"&&d){const Z=(u.brews||[]).find(K=>K.rkey===d);Z?(t(1,_={bean_rkey:Z.bean_rkey||"",coffee_amount:Z.coffee_amount||"",grinder_rkey:Z.grinder_rkey||"",grind_size:Z.grind_size||"",brewer_rkey:Z.brewer_rkey||"",water_amount:Z.water_amount||"",water_temp:Z.temperature||"",brew_time:Z.time_seconds||"",notes:Z.tasting_notes||"",rating:Z.rating||5}),t(2,m=Z.pours?JSON.parse(JSON.stringify(Z.pours)):[])):t(5,B="Brew not found")}t(3,h=!1)});function D(){t(2,m=[...m,{water_amount:0,time_seconds:0}])}function F(q){t(2,m=m.filter((Z,K)=>K!==q))}async function G(){if(!_.bean_rkey||_.bean_rkey===""){t(5,B="Please select a coffee bean");return}t(4,g=!0),t(5,B=null);try{const q={bean_rkey:_.bean_rkey,method:_.method||"",temperature:_.water_temp?parseFloat(_.water_temp):0,water_amount:_.water_amount?parseFloat(_.water_amount):0,coffee_amount:_.coffee_amount?parseFloat(_.coffee_amount):0,time_seconds:_.brew_time?parseFloat(_.brew_time):0,grind_size:_.grind_size||"",grinder_rkey:_.grinder_rkey||"",brewer_rkey:_.brewer_rkey||"",tasting_notes:_.notes||"",rating:_.rating?parseInt(_.rating):0,pours:m.filter(Z=>Z.water_amount&&Z.time_seconds)};p==="edit"?await ge.put(`/brews/${d}`,q):await ge.post("/brews",q),await Te.invalidate(),_e("/brews")}catch(q){t(5,B=q.message),t(4,g=!1)}}async function E(){try{const q=await ge.post("/api/beans",N);await Te.invalidate(),t(1,_.bean_rkey=q.rkey,_),t(6,v=!1),t(10,N={name:"",origin:"",roast_level:"",process:"",description:"",roaster_rkey:""})}catch(q){alert("Failed to create bean: "+q.message)}}async function T(){try{const q=await ge.post("/api/roasters",P);await Te.invalidate(),t(10,N.roaster_rkey=q.rkey,N),t(7,x=!1),t(11,P={name:"",location:"",website:"",description:""})}catch(q){alert("Failed to create roaster: "+q.message)}}async function R(){try{const q=await ge.post("/api/grinders",L);await Te.invalidate(),t(1,_.grinder_rkey=q.rkey,_),t(8,S=!1),t(12,L={name:"",grinder_type:"",burr_type:"",notes:""})}catch(q){alert("Failed to create grinder: "+q.message)}}async function V(){try{const q=await ge.post("/api/brewers",O);await Te.invalidate(),t(1,_.brewer_rkey=q.rkey,_),t(9,A=!1),t(13,O={name:"",brewer_type:"",description:""})}catch(q){alert("Failed to create brewer: "+q.message)}}const X=()=>vn();function J(){_.bean_rkey=at(this),t(1,_),t(17,l),t(26,u)}const I=()=>t(6,v=!0);function Y(){_.coffee_amount=ot(this.value),t(1,_),t(17,l),t(26,u)}function ue(){_.grinder_rkey=at(this),t(1,_),t(17,l),t(26,u)}const $=()=>t(8,S=!0);function Ae(){_.grind_size=this.value,t(1,_),t(17,l),t(26,u)}function ke(){_.brewer_rkey=at(this),t(1,_),t(17,l),t(26,u)}const De=()=>t(9,A=!0);function ye(){_.water_amount=ot(this.value),t(1,_),t(17,l),t(26,u)}function Me(){_.water_temp=ot(this.value),t(1,_),t(17,l),t(26,u)}function we(){_.brew_time=ot(this.value),t(1,_),t(17,l),t(26,u)}function Fe(q,Z){q[Z].water_amount=ot(this.value),t(2,m)}function Ee(q,Z){q[Z].time_seconds=ot(this.value),t(2,m)}const ae=q=>F(q);function te(){_.rating=ot(this.value),t(1,_),t(17,l),t(26,u)}function ie(){_.notes=this.value,t(1,_),t(17,l),t(26,u)}const re=()=>vn();function oe(){N.name=this.value,t(10,N)}function he(){N.origin=this.value,t(10,N)}function fe(){N.roast_level=at(this),t(10,N)}function pe(){N.roaster_rkey=at(this),t(10,N)}const Ie=()=>t(7,x=!0),se=()=>t(6,v=!1);function ee(q){v=q,t(6,v)}function qe(){P.name=this.value,t(11,P)}function Pe(){P.location=this.value,t(11,P)}const Re=()=>t(7,x=!1);function Se(q){x=q,t(7,x)}function Ze(){L.name=this.value,t(12,L)}function xe(){L.grinder_type=at(this),t(12,L)}const Ye=()=>t(8,S=!1);function $e(q){S=q,t(8,S)}function de(){O.name=this.value,t(13,O)}function je(){O.brewer_type=at(this),t(13,O)}const be=()=>t(9,A=!1);function Ce(q){A=q,t(9,A)}return n.$$set=q=>{"id"in q&&t(25,d=q.id),"mode"in q&&t(0,p=q.mode)},n.$$.update=()=>{n.$$.dirty[0]&67108864&&t(17,l=u.beans||[]),n.$$.dirty[0]&67108864&&t(16,i=u.roasters||[]),n.$$.dirty[0]&67108864&&t(15,r=u.grinders||[]),n.$$.dirty[0]&67108864&&t(14,s=u.brewers||[]),n.$$.dirty[0]&134217728&&(c=b.isAuthenticated)},[p,_,m,h,g,B,v,x,S,A,N,P,L,O,s,r,i,l,D,F,G,E,T,R,V,d,u,b,X,J,I,Y,ue,$,Ae,ke,De,ye,Me,we,Fe,Ee,ae,te,ie,re,oe,he,fe,pe,Ie,se,ee,qe,Pe,Re,Se,Ze,xe,Ye,$e,de,je,be,Ce]}class vl extends Xe{constructor(e){super(),Qe(this,e,qo,Wo,We,{id:25,mode:0},null,[-1,-1,-1])}}function kl(n,e,t){const l=n.slice();return l[74]=e[t],l}function yl(n,e,t){const l=n.slice();return l[85]=e[t],l}function xl(n,e,t){const l=n.slice();return l[82]=e[t],l}function Cl(n,e,t){const l=n.slice();return l[74]=e[t],l}function Bl(n,e,t){const l=n.slice();return l[77]=e[t],l}function Yo(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N;function P(D,F){if(D[0]==="beans")return Xo;if(D[0]==="roasters")return Qo;if(D[0]==="grinders")return Jo;if(D[0]==="brewers")return Ko}let L=P(n),O=L&&L(n);return{c(){e=f("div"),t=f("div"),l=f("button"),i=C("‚òï Beans"),s=w(),c=f("button"),u=C("üè≠ Roasters"),d=w(),p=f("button"),_=C("‚öôÔ∏è Grinders"),h=w(),g=f("button"),B=C("ü´ñ Brewers"),x=w(),S=f("div"),O&&O.c(),a(l,"class",r="flex-1 px-6 py-4 text-center font-medium transition-colors "+(n[0]==="beans"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50")),a(c,"class",b="flex-1 px-6 py-4 text-center font-medium transition-colors "+(n[0]==="roasters"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50")),a(p,"class",m="flex-1 px-6 py-4 text-center font-medium transition-colors "+(n[0]==="grinders"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50")),a(g,"class",v="flex-1 px-6 py-4 text-center font-medium transition-colors "+(n[0]==="brewers"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50")),a(t,"class","flex border-b border-brown-300"),a(S,"class","p-6"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300 mb-6")},m(D,F){y(D,e,F),o(e,t),o(t,l),o(l,i),o(t,s),o(t,c),o(c,u),o(t,d),o(t,p),o(p,_),o(t,h),o(t,g),o(g,B),o(e,x),o(e,S),O&&O.m(S,null),A||(N=[z(l,"click",n[37]),z(c,"click",n[38]),z(p,"click",n[39]),z(g,"click",n[40])],A=!0)},p(D,F){F[0]&1&&r!==(r="flex-1 px-6 py-4 text-center font-medium transition-colors "+(D[0]==="beans"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50"))&&a(l,"class",r),F[0]&1&&b!==(b="flex-1 px-6 py-4 text-center font-medium transition-colors "+(D[0]==="roasters"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50"))&&a(c,"class",b),F[0]&1&&m!==(m="flex-1 px-6 py-4 text-center font-medium transition-colors "+(D[0]==="grinders"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50"))&&a(p,"class",m),F[0]&1&&v!==(v="flex-1 px-6 py-4 text-center font-medium transition-colors "+(D[0]==="brewers"?"bg-brown-50 text-brown-900 border-b-2 border-brown-700":"text-brown-700 hover:bg-brown-50"))&&a(g,"class",v),L===(L=P(D))&&O?O.p(D,F):(O&&O.d(1),O=L&&L(D),O&&(O.c(),O.m(S,null)))},d(D){D&&k(e),O&&O.d(),A=!1,ce(N)}}}function Vo(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-brown-800 mx-auto"></div> <p class="mt-4 text-brown-700">Loading...</p>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Ko(n){let e,t,l,i,r,s,c,u;function b(_,m){return _[14].length===0?$o:Zo}let d=b(n),p=d(n);return{c(){e=f("div"),t=f("h2"),t.textContent="Brewers",l=w(),i=f("button"),i.textContent="+ Add Brewer",r=w(),p.c(),s=ft(),a(t,"class","text-xl font-bold text-brown-900"),a(i,"class","bg-brown-700 text-white px-4 py-2 rounded-lg hover:bg-brown-800 font-medium"),a(e,"class","flex justify-between items-center mb-4")},m(_,m){y(_,e,m),o(e,t),o(e,l),o(e,i),y(_,r,m),p.m(_,m),y(_,s,m),c||(u=z(i,"click",n[31]),c=!0)},p(_,m){d===(d=b(_))&&p?p.p(_,m):(p.d(1),p=d(_),p&&(p.c(),p.m(s.parentNode,s)))},d(_){_&&(k(e),k(r),k(s)),p.d(_),c=!1,u()}}}function Jo(n){let e,t,l,i,r,s,c,u;function b(_,m){return _[15].length===0?ti:ei}let d=b(n),p=d(n);return{c(){e=f("div"),t=f("h2"),t.textContent="Grinders",l=w(),i=f("button"),i.textContent="+ Add Grinder",r=w(),p.c(),s=ft(),a(t,"class","text-xl font-bold text-brown-900"),a(i,"class","bg-brown-700 text-white px-4 py-2 rounded-lg hover:bg-brown-800 font-medium"),a(e,"class","flex justify-between items-center mb-4")},m(_,m){y(_,e,m),o(e,t),o(e,l),o(e,i),y(_,r,m),p.m(_,m),y(_,s,m),c||(u=z(i,"click",n[27]),c=!0)},p(_,m){d===(d=b(_))&&p?p.p(_,m):(p.d(1),p=d(_),p&&(p.c(),p.m(s.parentNode,s)))},d(_){_&&(k(e),k(r),k(s)),p.d(_),c=!1,u()}}}function Qo(n){let e,t,l,i,r,s,c,u;function b(_,m){return _[16].length===0?li:ni}let d=b(n),p=d(n);return{c(){e=f("div"),t=f("h2"),t.textContent="Roasters",l=w(),i=f("button"),i.textContent="+ Add Roaster",r=w(),p.c(),s=ft(),a(t,"class","text-xl font-bold text-brown-900"),a(i,"class","bg-brown-700 text-white px-4 py-2 rounded-lg hover:bg-brown-800 font-medium"),a(e,"class","flex justify-between items-center mb-4")},m(_,m){y(_,e,m),o(e,t),o(e,l),o(e,i),y(_,r,m),p.m(_,m),y(_,s,m),c||(u=z(i,"click",n[23]),c=!0)},p(_,m){d===(d=b(_))&&p?p.p(_,m):(p.d(1),p=d(_),p&&(p.c(),p.m(s.parentNode,s)))},d(_){_&&(k(e),k(r),k(s)),p.d(_),c=!1,u()}}}function Xo(n){let e,t,l,i,r,s,c,u;function b(_,m){return _[17].length===0?oi:ri}let d=b(n),p=d(n);return{c(){e=f("div"),t=f("h2"),t.textContent="Coffee Beans",l=w(),i=f("button"),i.textContent="+ Add Bean",r=w(),p.c(),s=ft(),a(t,"class","text-xl font-bold text-brown-900"),a(i,"class","bg-brown-700 text-white px-4 py-2 rounded-lg hover:bg-brown-800 font-medium"),a(e,"class","flex justify-between items-center mb-4")},m(_,m){y(_,e,m),o(e,t),o(e,l),o(e,i),y(_,r,m),p.m(_,m),y(_,s,m),c||(u=z(i,"click",n[19]),c=!0)},p(_,m){d===(d=b(_))&&p?p.p(_,m):(p.d(1),p=d(_),p&&(p.c(),p.m(s.parentNode,s)))},d(_){_&&(k(e),k(r),k(s)),p.d(_),c=!1,u()}}}function Zo(n){let e,t,l,i,r,s=le(n[14]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Al(yl(n,s,u));return{c(){e=f("div"),t=f("table"),l=f("thead"),l.innerHTML='<tr><th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Name</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üîß Type</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Actions</th></tr>',i=w(),r=f("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(l,"class","bg-brown-50"),a(r,"class","bg-white divide-y divide-brown-200"),a(t,"class","min-w-full divide-y divide-brown-300"),a(e,"class","overflow-x-auto")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,i),o(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null)},p(u,b){if(b[0]&16384|b[1]&10){s=le(u[14]);let d;for(d=0;d<s.length;d+=1){const p=yl(u,s,d);c[d]?c[d].p(p,b):(c[d]=Al(p),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}},d(u){u&&k(e),Ge(c,u)}}}function $o(n){let e;return{c(){e=f("p"),e.textContent="No brewers yet. Add your first brewer!",a(e,"class","text-brown-600 text-center py-8")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Al(n){let e,t,l=n[85].name+"",i,r,s,c=(n[85].brewer_type||"-")+"",u,b,d,p,_,m,h,g,B;function v(){return n[47](n[85])}function x(){return n[48](n[85])}return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),p=f("button"),p.textContent="Edit",_=w(),m=f("button"),m.textContent="Delete",h=w(),a(t,"class","px-4 py-3 text-sm text-brown-900"),a(s,"class","px-4 py-3 text-sm text-brown-900"),a(p,"class","text-brown-700 hover:text-brown-900 font-medium"),a(m,"class","text-red-600 hover:text-red-800 font-medium"),a(d,"class","px-4 py-3 text-sm space-x-2"),a(e,"class","hover:bg-brown-50")},m(S,A){y(S,e,A),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,p),o(d,_),o(d,m),o(e,h),g||(B=[z(p,"click",v),z(m,"click",x)],g=!0)},p(S,A){n=S,A[0]&16384&&l!==(l=n[85].name+"")&&j(i,l),A[0]&16384&&c!==(c=(n[85].brewer_type||"-")+"")&&j(u,c)},d(S){S&&k(e),g=!1,ce(B)}}}function ei(n){let e,t,l,i,r,s=le(n[15]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Sl(xl(n,s,u));return{c(){e=f("div"),t=f("table"),l=f("thead"),l.innerHTML='<tr><th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Name</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üîß Type</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üíé Burr Type</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Actions</th></tr>',i=w(),r=f("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(l,"class","bg-brown-50"),a(r,"class","bg-white divide-y divide-brown-200"),a(t,"class","min-w-full divide-y divide-brown-300"),a(e,"class","overflow-x-auto")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,i),o(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null)},p(u,b){if(b[0]&1342210048){s=le(u[15]);let d;for(d=0;d<s.length;d+=1){const p=xl(u,s,d);c[d]?c[d].p(p,b):(c[d]=Sl(p),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}},d(u){u&&k(e),Ge(c,u)}}}function ti(n){let e;return{c(){e=f("p"),e.textContent="No grinders yet. Add your first grinder!",a(e,"class","text-brown-600 text-center py-8")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Sl(n){let e,t,l=n[82].name+"",i,r,s,c=(n[82].grinder_type||"-")+"",u,b,d,p=(n[82].burr_type||"-")+"",_,m,h,g,B,v,x,S,A;function N(){return n[45](n[82])}function P(){return n[46](n[82])}return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),h=f("td"),g=f("button"),g.textContent="Edit",B=w(),v=f("button"),v.textContent="Delete",x=w(),a(t,"class","px-4 py-3 text-sm text-brown-900"),a(s,"class","px-4 py-3 text-sm text-brown-900"),a(d,"class","px-4 py-3 text-sm text-brown-900"),a(g,"class","text-brown-700 hover:text-brown-900 font-medium"),a(v,"class","text-red-600 hover:text-red-800 font-medium"),a(h,"class","px-4 py-3 text-sm space-x-2"),a(e,"class","hover:bg-brown-50")},m(L,O){y(L,e,O),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m),o(e,h),o(h,g),o(h,B),o(h,v),o(e,x),S||(A=[z(g,"click",N),z(v,"click",P)],S=!0)},p(L,O){n=L,O[0]&32768&&l!==(l=n[82].name+"")&&j(i,l),O[0]&32768&&c!==(c=(n[82].grinder_type||"-")+"")&&j(u,c),O[0]&32768&&p!==(p=(n[82].burr_type||"-")+"")&&j(_,p)},d(L){L&&k(e),S=!1,ce(A)}}}function ni(n){let e,t,l,i,r,s=le(n[16]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Nl(Cl(n,s,u));return{c(){e=f("div"),t=f("table"),l=f("thead"),l.innerHTML='<tr><th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Name</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üìç Location</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Actions</th></tr>',i=w(),r=f("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(l,"class","bg-brown-50"),a(r,"class","bg-white divide-y divide-brown-200"),a(t,"class","min-w-full divide-y divide-brown-300"),a(e,"class","overflow-x-auto")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,i),o(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null)},p(u,b){if(b[0]&83951616){s=le(u[16]);let d;for(d=0;d<s.length;d+=1){const p=Cl(u,s,d);c[d]?c[d].p(p,b):(c[d]=Nl(p),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}},d(u){u&&k(e),Ge(c,u)}}}function li(n){let e;return{c(){e=f("p"),e.textContent="No roasters yet. Add your first roaster!",a(e,"class","text-brown-600 text-center py-8")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Nl(n){let e,t,l=n[74].name+"",i,r,s,c=(n[74].location||"-")+"",u,b,d,p,_,m,h,g,B;function v(){return n[43](n[74])}function x(){return n[44](n[74])}return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),p=f("button"),p.textContent="Edit",_=w(),m=f("button"),m.textContent="Delete",h=w(),a(t,"class","px-4 py-3 text-sm text-brown-900"),a(s,"class","px-4 py-3 text-sm text-brown-900"),a(p,"class","text-brown-700 hover:text-brown-900 font-medium"),a(m,"class","text-red-600 hover:text-red-800 font-medium"),a(d,"class","px-4 py-3 text-sm space-x-2"),a(e,"class","hover:bg-brown-50")},m(S,A){y(S,e,A),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,p),o(d,_),o(d,m),o(e,h),g||(B=[z(p,"click",v),z(m,"click",x)],g=!0)},p(S,A){n=S,A[0]&65536&&l!==(l=n[74].name+"")&&j(i,l),A[0]&65536&&c!==(c=(n[74].location||"-")+"")&&j(u,c)},d(S){S&&k(e),g=!1,ce(B)}}}function ri(n){let e,t,l,i,r,s=le(n[17]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Tl(Bl(n,s,u));return{c(){e=f("div"),t=f("table"),l=f("thead"),l.innerHTML='<tr><th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Name</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üìç Origin</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üî• Roast</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">üè≠ Roaster</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase">Actions</th></tr>',i=w(),r=f("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(l,"class","bg-brown-50"),a(r,"class","bg-white divide-y divide-brown-200"),a(t,"class","min-w-full divide-y divide-brown-300"),a(e,"class","overflow-x-auto")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,i),o(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null)},p(u,b){if(b[0]&5373952){s=le(u[17]);let d;for(d=0;d<s.length;d+=1){const p=Bl(u,s,d);c[d]?c[d].p(p,b):(c[d]=Tl(p),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}},d(u){u&&k(e),Ge(c,u)}}}function oi(n){let e;return{c(){e=f("p"),e.textContent="No beans yet. Add your first bean!",a(e,"class","text-brown-600 text-center py-8")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Tl(n){var G;let e,t,l=(n[77].name||"-")+"",i,r,s,c=n[77].origin+"",u,b,d,p=n[77].roast_level+"",_,m,h,g=(((G=n[77].roaster)==null?void 0:G.name)||"-")+"",B,v,x,S,A,N,P,L,O;function D(){return n[41](n[77])}function F(){return n[42](n[77])}return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),h=f("td"),B=C(g),v=w(),x=f("td"),S=f("button"),S.textContent="Edit",A=w(),N=f("button"),N.textContent="Delete",P=w(),a(t,"class","px-4 py-3 text-sm text-brown-900"),a(s,"class","px-4 py-3 text-sm text-brown-900"),a(d,"class","px-4 py-3 text-sm text-brown-900"),a(h,"class","px-4 py-3 text-sm text-brown-900"),a(S,"class","text-brown-700 hover:text-brown-900 font-medium"),a(N,"class","text-red-600 hover:text-red-800 font-medium"),a(x,"class","px-4 py-3 text-sm space-x-2"),a(e,"class","hover:bg-brown-50")},m(E,T){y(E,e,T),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m),o(e,h),o(h,B),o(e,v),o(e,x),o(x,S),o(x,A),o(x,N),o(e,P),L||(O=[z(S,"click",D),z(N,"click",F)],L=!0)},p(E,T){var R;n=E,T[0]&131072&&l!==(l=(n[77].name||"-")+"")&&j(i,l),T[0]&131072&&c!==(c=n[77].origin+"")&&j(u,c),T[0]&131072&&p!==(p=n[77].roast_level+"")&&j(_,p),T[0]&131072&&g!==(g=(((R=n[77].roaster)==null?void 0:R.name)||"-")+"")&&j(B,g)},d(E){E&&k(e),L=!1,ce(O)}}}function Ll(n){let e,t=n[74].name+"",l,i;return{c(){e=f("option"),l=C(t),e.__value=i=n[74].rkey,H(e,e.__value)},m(r,s){y(r,e,s),o(e,l)},p(r,s){s[0]&65536&&t!==(t=r[74].name+"")&&j(l,t),s[0]&65536&&i!==(i=r[74].rkey)&&(e.__value=i,H(e,e.__value))},d(r){r&&k(e)}}}function ii(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P=le(n[16]),L=[];for(let O=0;O<P.length;O+=1)L[O]=Ll(kl(n,P,O));return{c(){e=f("input"),t=w(),l=f("input"),i=w(),r=f("select"),s=f("option"),s.textContent="Select Roaster (Optional)";for(let O=0;O<L.length;O+=1)L[O].c();c=w(),u=f("select"),b=f("option"),b.textContent="Select Roast Level (Optional)",d=f("option"),d.textContent="Ultra-Light",p=f("option"),p.textContent="Light",_=f("option"),_.textContent="Medium-Light",m=f("option"),m.textContent="Medium",h=f("option"),h.textContent="Medium-Dark",g=f("option"),g.textContent="Dark",B=w(),v=f("input"),x=w(),S=f("textarea"),a(e,"type","text"),a(e,"placeholder","Name *"),a(e,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(l,"type","text"),a(l,"placeholder","Origin *"),a(l,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),s.__value="",H(s,s.__value),a(r,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),n[10].roaster_rkey===void 0&&rt(()=>n[51].call(r)),b.__value="",H(b,b.__value),d.__value="Ultra-Light",H(d,d.__value),p.__value="Light",H(p,p.__value),_.__value="Medium-Light",H(_,_.__value),m.__value="Medium",H(m,m.__value),h.__value="Medium-Dark",H(h,h.__value),g.__value="Dark",H(g,g.__value),a(u,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),n[10].roast_level===void 0&&rt(()=>n[52].call(u)),a(v,"type","text"),a(v,"placeholder","Process (e.g. Washed, Natural, Honey)"),a(v,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(S,"placeholder","Description"),a(S,"rows","3"),a(S,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600")},m(O,D){y(O,e,D),H(e,n[10].name),y(O,t,D),y(O,l,D),H(l,n[10].origin),y(O,i,D),y(O,r,D),o(r,s);for(let F=0;F<L.length;F+=1)L[F]&&L[F].m(r,null);Le(r,n[10].roaster_rkey,!0),y(O,c,D),y(O,u,D),o(u,b),o(u,d),o(u,p),o(u,_),o(u,m),o(u,h),o(u,g),Le(u,n[10].roast_level,!0),y(O,B,D),y(O,v,D),H(v,n[10].process),y(O,x,D),y(O,S,D),H(S,n[10].description),A||(N=[z(e,"input",n[49]),z(l,"input",n[50]),z(r,"change",n[51]),z(u,"change",n[52]),z(v,"input",n[53]),z(S,"input",n[54])],A=!0)},p(O,D){if(D[0]&66560&&e.value!==O[10].name&&H(e,O[10].name),D[0]&66560&&l.value!==O[10].origin&&H(l,O[10].origin),D[0]&65536){P=le(O[16]);let F;for(F=0;F<P.length;F+=1){const G=kl(O,P,F);L[F]?L[F].p(G,D):(L[F]=Ll(G),L[F].c(),L[F].m(r,null))}for(;F<L.length;F+=1)L[F].d(1);L.length=P.length}D[0]&66560&&Le(r,O[10].roaster_rkey),D[0]&66560&&Le(u,O[10].roast_level),D[0]&66560&&v.value!==O[10].process&&H(v,O[10].process),D[0]&66560&&H(S,O[10].description)},d(O){O&&(k(e),k(t),k(l),k(i),k(r),k(c),k(u),k(B),k(v),k(x),k(S)),Ge(L,O),A=!1,ce(N)}}}function si(n){let e,t,l,i,r,s,c;return{c(){e=f("input"),t=w(),l=f("input"),i=w(),r=f("input"),a(e,"type","text"),a(e,"placeholder","Name *"),a(e,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(l,"type","text"),a(l,"placeholder","Location"),a(l,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(r,"type","url"),a(r,"placeholder","Website"),a(r,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600")},m(u,b){y(u,e,b),H(e,n[11].name),y(u,t,b),y(u,l,b),H(l,n[11].location),y(u,i,b),y(u,r,b),H(r,n[11].website),s||(c=[z(e,"input",n[57]),z(l,"input",n[58]),z(r,"input",n[59])],s=!0)},p(u,b){b[0]&2048&&e.value!==u[11].name&&H(e,u[11].name),b[0]&2048&&l.value!==u[11].location&&H(l,u[11].location),b[0]&2048&&r.value!==u[11].website&&H(r,u[11].website)},d(u){u&&(k(e),k(t),k(l),k(i),k(r)),s=!1,ce(c)}}}function ai(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B;return{c(){e=f("input"),t=w(),l=f("select"),i=f("option"),i.textContent="Select Grinder Type *",r=f("option"),r.textContent="Hand",s=f("option"),s.textContent="Electric",c=f("option"),c.textContent="Portable Electric",u=w(),b=f("select"),d=f("option"),d.textContent="Select Burr Type (Optional)",p=f("option"),p.textContent="Conical",_=f("option"),_.textContent="Flat",m=w(),h=f("textarea"),a(e,"type","text"),a(e,"placeholder","Name *"),a(e,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),i.__value="",H(i,i.__value),r.__value="Hand",H(r,r.__value),s.__value="Electric",H(s,s.__value),c.__value="Portable Electric",H(c,c.__value),a(l,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),n[12].grinder_type===void 0&&rt(()=>n[63].call(l)),d.__value="",H(d,d.__value),p.__value="Conical",H(p,p.__value),_.__value="Flat",H(_,_.__value),a(b,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),n[12].burr_type===void 0&&rt(()=>n[64].call(b)),a(h,"placeholder","Notes"),a(h,"rows","3"),a(h,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600")},m(v,x){y(v,e,x),H(e,n[12].name),y(v,t,x),y(v,l,x),o(l,i),o(l,r),o(l,s),o(l,c),Le(l,n[12].grinder_type,!0),y(v,u,x),y(v,b,x),o(b,d),o(b,p),o(b,_),Le(b,n[12].burr_type,!0),y(v,m,x),y(v,h,x),H(h,n[12].notes),g||(B=[z(e,"input",n[62]),z(l,"change",n[63]),z(b,"change",n[64]),z(h,"input",n[65])],g=!0)},p(v,x){x[0]&4096&&e.value!==v[12].name&&H(e,v[12].name),x[0]&4096&&Le(l,v[12].grinder_type),x[0]&4096&&Le(b,v[12].burr_type),x[0]&4096&&H(h,v[12].notes)},d(v){v&&(k(e),k(t),k(l),k(u),k(b),k(m),k(h)),g=!1,ce(B)}}}function ui(n){let e,t,l,i,r,s,c;return{c(){e=f("input"),t=w(),l=f("input"),i=w(),r=f("textarea"),a(e,"type","text"),a(e,"placeholder","Name *"),a(e,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(l,"type","text"),a(l,"placeholder","Type (e.g., Pour-Over, Immersion, Espresso)"),a(l,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600"),a(r,"placeholder","Description"),a(r,"rows","3"),a(r,"class","w-full rounded-lg border-2 border-brown-300 bg-white shadow-sm py-2 px-3 focus:border-brown-600 focus:ring-brown-600")},m(u,b){y(u,e,b),H(e,n[13].name),y(u,t,b),y(u,l,b),H(l,n[13].brewer_type),y(u,i,b),y(u,r,b),H(r,n[13].description),s||(c=[z(e,"input",n[68]),z(l,"input",n[69]),z(r,"input",n[70])],s=!0)},p(u,b){b[0]&8192&&e.value!==u[13].name&&H(e,u[13].name),b[0]&8192&&l.value!==u[13].brewer_type&&H(l,u[13].brewer_type),b[0]&8192&&H(r,u[13].description)},d(u){u&&(k(e),k(t),k(l),k(i),k(r)),s=!1,ce(c)}}}function ci(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v;function x(T,R){return T[1]?Vo:Yo}let S=x(n),A=S(n);function N(T){n[56](T)}let P={title:n[6]?"Edit Bean":"Add Bean",onSave:n[21],onCancel:n[55],$$slots:{default:[ii]},$$scope:{ctx:n}};n[2]!==void 0&&(P.isOpen=n[2]),s=new ht({props:P}),ct.push(()=>wt(s,"isOpen",N));function L(T){n[61](T)}let O={title:n[7]?"Edit Roaster":"Add Roaster",onSave:n[25],onCancel:n[60],$$slots:{default:[si]},$$scope:{ctx:n}};n[3]!==void 0&&(O.isOpen=n[3]),b=new ht({props:O}),ct.push(()=>wt(b,"isOpen",L));function D(T){n[67](T)}let F={title:n[8]?"Edit Grinder":"Add Grinder",onSave:n[29],onCancel:n[66],$$slots:{default:[ai]},$$scope:{ctx:n}};n[4]!==void 0&&(F.isOpen=n[4]),_=new ht({props:F}),ct.push(()=>wt(_,"isOpen",D));function G(T){n[72](T)}let E={title:n[9]?"Edit Brewer":"Add Brewer",onSave:n[33],onCancel:n[71],$$slots:{default:[ui]},$$scope:{ctx:n}};return n[5]!==void 0&&(E.isOpen=n[5]),g=new ht({props:E}),ct.push(()=>wt(g,"isOpen",G)),{c(){e=w(),t=f("div"),l=f("h1"),l.textContent="Manage Equipment & Beans",i=w(),A.c(),r=w(),it(s.$$.fragment),u=w(),it(b.$$.fragment),p=w(),it(_.$$.fragment),h=w(),it(g.$$.fragment),document.title="Manage - Arabica",a(l,"class","text-3xl font-bold text-brown-900 mb-6"),a(t,"class","max-w-6xl mx-auto")},m(T,R){y(T,e,R),y(T,t,R),o(t,l),o(t,i),A.m(t,null),y(T,r,R),nt(s,T,R),y(T,u,R),nt(b,T,R),y(T,p,R),nt(_,T,R),y(T,h,R),nt(g,T,R),v=!0},p(T,R){S===(S=x(T))&&A?A.p(T,R):(A.d(1),A=S(T),A&&(A.c(),A.m(t,null)));const V={};R[0]&64&&(V.title=T[6]?"Edit Bean":"Add Bean"),R[0]&4&&(V.onCancel=T[55]),R[0]&66560|R[2]&67108864&&(V.$$scope={dirty:R,ctx:T}),!c&&R[0]&4&&(c=!0,V.isOpen=T[2],mt(()=>c=!1)),s.$set(V);const X={};R[0]&128&&(X.title=T[7]?"Edit Roaster":"Add Roaster"),R[0]&8&&(X.onCancel=T[60]),R[0]&2048|R[2]&67108864&&(X.$$scope={dirty:R,ctx:T}),!d&&R[0]&8&&(d=!0,X.isOpen=T[3],mt(()=>d=!1)),b.$set(X);const J={};R[0]&256&&(J.title=T[8]?"Edit Grinder":"Add Grinder"),R[0]&16&&(J.onCancel=T[66]),R[0]&4096|R[2]&67108864&&(J.$$scope={dirty:R,ctx:T}),!m&&R[0]&16&&(m=!0,J.isOpen=T[4],mt(()=>m=!1)),_.$set(J);const I={};R[0]&512&&(I.title=T[9]?"Edit Brewer":"Add Brewer"),R[0]&32&&(I.onCancel=T[71]),R[0]&8192|R[2]&67108864&&(I.$$scope={dirty:R,ctx:T}),!B&&R[0]&32&&(B=!0,I.isOpen=T[5],mt(()=>B=!1)),g.$set(I)},i(T){v||(ve(s.$$.fragment,T),ve(b.$$.fragment,T),ve(_.$$.fragment,T),ve(g.$$.fragment,T),v=!0)},o(T){Oe(s.$$.fragment,T),Oe(b.$$.fragment,T),Oe(_.$$.fragment,T),Oe(g.$$.fragment,T),v=!1},d(T){T&&(k(e),k(t),k(r),k(u),k(p),k(h)),A.d(),lt(s,T),lt(b,T),lt(_,T),lt(g,T)}}}function fi(n,e,t){let l,i,r,s,c,u,b;ut(n,pt,M=>t(35,u=M)),ut(n,Te,M=>t(36,b=M));let d="beans",p=!0,_=!1,m=!1,h=!1,g=!1,B=null,v=null,x=null,S=null,A={name:"",origin:"",roast_level:"",process:"",description:"",roaster_rkey:""},N={name:"",location:"",website:"",description:""},P={name:"",grinder_type:"",burr_type:"",notes:""},L={name:"",brewer_type:"",description:""};vt(async()=>{if(!c){_e("/login");return}const M=localStorage.getItem("arabica_manage_tab");M&&t(0,d=M),await Te.load(),t(1,p=!1)});function O(M){t(0,d=M),localStorage.setItem("arabica_manage_tab",M)}function D(){t(6,B=null),t(10,A={name:"",origin:"",roast_level:"",process:"",description:"",roaster_rkey:""}),t(2,_=!0)}function F(M){t(6,B=M),t(10,A={name:M.name||"",origin:M.origin||"",roast_level:M.roast_level||"",process:M.process||"",description:M.description||"",roaster_rkey:M.roaster_rkey||""}),t(2,_=!0)}async function G(){try{console.log("Saving bean with data:",A),B?(console.log("Updating bean:",B.rkey),await ge.put(`/api/beans/${B.rkey}`,A)):(console.log("Creating new bean"),await ge.post("/api/beans",A)),await Te.invalidate(),t(2,_=!1)}catch(M){console.error("Bean save error:",M),alert("Failed to save bean: "+M.message)}}async function E(M){if(confirm("Are you sure you want to delete this bean?"))try{await ge.delete(`/api/beans/${M}`),await Te.invalidate()}catch(ne){alert("Failed to delete bean: "+ne.message)}}function T(){t(7,v=null),t(11,N={name:"",location:"",website:"",description:""}),t(3,m=!0)}function R(M){t(7,v=M),t(11,N={name:M.name||"",location:M.location||"",website:M.website||"",description:M.Description||""}),t(3,m=!0)}async function V(){try{v?await ge.put(`/api/roasters/${v.rkey}`,N):await ge.post("/api/roasters",N),await Te.invalidate(),t(3,m=!1)}catch(M){alert("Failed to save roaster: "+M.message)}}async function X(M){if(confirm("Are you sure you want to delete this roaster?"))try{await ge.delete(`/api/roasters/${M}`),await Te.invalidate()}catch(ne){alert("Failed to delete roaster: "+ne.message)}}function J(){t(8,x=null),t(12,P={name:"",grinder_type:"",burr_type:"",notes:""}),t(4,h=!0)}function I(M){t(8,x=M),t(12,P={name:M.name||"",grinder_type:M.grinder_type||"",burr_type:M.burr_type||"",notes:M.notes||""}),t(4,h=!0)}async function Y(){try{x?await ge.put(`/api/grinders/${x.rkey}`,P):await ge.post("/api/grinders",P),await Te.invalidate(),t(4,h=!1)}catch(M){alert("Failed to save grinder: "+M.message)}}async function ue(M){if(confirm("Are you sure you want to delete this grinder?"))try{await ge.delete(`/api/grinders/${M}`),await Te.invalidate()}catch(ne){alert("Failed to delete grinder: "+ne.message)}}function $(){t(9,S=null),t(13,L={name:"",brewer_type:"",description:""}),t(5,g=!0)}function Ae(M){t(9,S=M),t(13,L={name:M.name||"",brewer_type:M.brewer_type||"",description:M.description||""}),t(5,g=!0)}async function ke(){try{S?await ge.put(`/api/brewers/${S.rkey}`,L):await ge.post("/api/brewers",L),await Te.invalidate(),t(5,g=!1)}catch(M){alert("Failed to save brewer: "+M.message)}}async function De(M){if(confirm("Are you sure you want to delete this brewer?"))try{await ge.delete(`/api/brewers/${M}`),await Te.invalidate()}catch(ne){alert("Failed to delete brewer: "+ne.message)}}const ye=()=>O("beans"),Me=()=>O("roasters"),we=()=>O("grinders"),Fe=()=>O("brewers"),Ee=M=>F(M),ae=M=>E(M.rkey),te=M=>R(M),ie=M=>X(M.rkey),re=M=>I(M),oe=M=>ue(M.rkey),he=M=>Ae(M),fe=M=>De(M.rkey);function pe(){A.name=this.value,t(10,A),t(16,i),t(36,b)}function Ie(){A.origin=this.value,t(10,A),t(16,i),t(36,b)}function se(){A.roaster_rkey=at(this),t(10,A),t(16,i),t(36,b)}function ee(){A.roast_level=at(this),t(10,A),t(16,i),t(36,b)}function qe(){A.process=this.value,t(10,A),t(16,i),t(36,b)}function Pe(){A.description=this.value,t(10,A),t(16,i),t(36,b)}const Re=()=>t(2,_=!1);function Se(M){_=M,t(2,_)}function Ze(){N.name=this.value,t(11,N)}function xe(){N.location=this.value,t(11,N)}function Ye(){N.website=this.value,t(11,N)}const $e=()=>t(3,m=!1);function de(M){m=M,t(3,m)}function je(){P.name=this.value,t(12,P)}function be(){P.grinder_type=at(this),t(12,P)}function Ce(){P.burr_type=at(this),t(12,P)}function q(){P.notes=this.value,t(12,P)}const Z=()=>t(4,h=!1);function K(M){h=M,t(4,h)}function me(){L.name=this.value,t(13,L)}function dt(){L.brewer_type=this.value,t(13,L)}function He(){L.description=this.value,t(13,L)}const Ne=()=>t(5,g=!1);function ze(M){g=M,t(5,g)}return n.$$.update=()=>{n.$$.dirty[1]&32&&t(17,l=b.beans||[]),n.$$.dirty[1]&32&&t(16,i=b.roasters||[]),n.$$.dirty[1]&32&&t(15,r=b.grinders||[]),n.$$.dirty[1]&32&&t(14,s=b.brewers||[]),n.$$.dirty[1]&16&&(c=u.isAuthenticated)},[d,p,_,m,h,g,B,v,x,S,A,N,P,L,s,r,i,l,O,D,F,G,E,T,R,V,X,J,I,Y,ue,$,Ae,ke,De,u,b,ye,Me,we,Fe,Ee,ae,te,ie,re,oe,he,fe,pe,Ie,se,ee,qe,Pe,Re,Se,Ze,xe,Ye,$e,de,je,be,Ce,q,Z,K,me,dt,He,Ne,ze]}class di extends Xe{constructor(e){super(),Qe(this,e,fi,ci,We,{},null,[-1,-1,-1])}}function Ol(n,e,t){const l=n.slice();return l[23]=e[t],l}function Ml(n,e,t){const l=n.slice();return l[26]=e[t],l}function El(n,e,t){const l=n.slice();return l[17]=e[t],l}function Pl(n,e,t){const l=n.slice();return l[20]=e[t],l}function Dl(n,e,t){const l=n.slice();return l[14]=e[t],l}function bi(n){let e,t,l,i,r,s,c,u=n[0].handle+"",b,d,p,_,m,h=n[1].length+"",g,B,v,x,S,A,N=n[2].length+"",P,L,O,D,F,G,E=n[3].length+"",T,R,V,X,J,I,Y=n[4].length+"",ue,$,Ae,ke,De,ye,Me=n[5].length+"",we,Fe,Ee,ae,te,ie,re,oe,he,fe,pe,Ie,se,ee,qe,Pe,Re,Se,Ze,xe,Ye;function $e(K,me){return K[0].avatar?wi:mi}let de=$e(n),je=de(n),be=n[0].displayName&&Fl(n);function Ce(K,me){if(K[8]==="brews")return vi;if(K[8]==="beans")return gi;if(K[8]==="gear")return hi}let q=Ce(n),Z=q&&q(n);return{c(){e=f("div"),t=f("div"),je.c(),l=w(),i=f("div"),be&&be.c(),r=w(),s=f("p"),c=C("@"),b=C(u),d=w(),p=f("div"),_=f("div"),m=f("div"),g=C(h),B=w(),v=f("div"),v.textContent="Brews",x=w(),S=f("div"),A=f("div"),P=C(N),L=w(),O=f("div"),O.textContent="Beans",D=w(),F=f("div"),G=f("div"),T=C(E),R=w(),V=f("div"),V.textContent="Roasters",X=w(),J=f("div"),I=f("div"),ue=C(Y),$=w(),Ae=f("div"),Ae.textContent="Grinders",ke=w(),De=f("div"),ye=f("div"),we=C(Me),Fe=w(),Ee=f("div"),Ee.textContent="Brewers",ae=w(),te=f("div"),ie=f("div"),re=f("div"),oe=f("button"),he=C("Brews"),pe=w(),Ie=f("button"),se=C("Beans"),qe=w(),Pe=f("button"),Re=C("Gear"),Ze=w(),Z&&Z.c(),a(s,"class","text-brown-700"),a(t,"class","flex items-center gap-4"),a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-6 mb-6 border border-brown-300"),a(m,"class","text-2xl font-bold text-brown-800"),a(v,"class","text-sm text-brown-700"),a(_,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md p-4 text-center border border-brown-300"),a(A,"class","text-2xl font-bold text-brown-800"),a(O,"class","text-sm text-brown-700"),a(S,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md p-4 text-center border border-brown-300"),a(G,"class","text-2xl font-bold text-brown-800"),a(V,"class","text-sm text-brown-700"),a(F,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md p-4 text-center border border-brown-300"),a(I,"class","text-2xl font-bold text-brown-800"),a(Ae,"class","text-sm text-brown-700"),a(J,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md p-4 text-center border border-brown-300"),a(ye,"class","text-2xl font-bold text-brown-800"),a(Ee,"class","text-sm text-brown-700"),a(De,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-lg shadow-md p-4 text-center border border-brown-300"),a(p,"class","grid grid-cols-2 md:grid-cols-5 gap-4 mb-6"),a(oe,"class",fe="flex-1 py-3 px-4 text-center font-medium transition-colors "+(n[8]==="brews"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800")),a(Ie,"class",ee="flex-1 py-3 px-4 text-center font-medium transition-colors "+(n[8]==="beans"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800")),a(Pe,"class",Se="flex-1 py-3 px-4 text-center font-medium transition-colors "+(n[8]==="gear"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800")),a(re,"class","flex border-b border-brown-300"),a(ie,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-md mb-4 border border-brown-300")},m(K,me){y(K,e,me),o(e,t),je.m(t,null),o(t,l),o(t,i),be&&be.m(i,null),o(i,r),o(i,s),o(s,c),o(s,b),y(K,d,me),y(K,p,me),o(p,_),o(_,m),o(m,g),o(_,B),o(_,v),o(p,x),o(p,S),o(S,A),o(A,P),o(S,L),o(S,O),o(p,D),o(p,F),o(F,G),o(G,T),o(F,R),o(F,V),o(p,X),o(p,J),o(J,I),o(I,ue),o(J,$),o(J,Ae),o(p,ke),o(p,De),o(De,ye),o(ye,we),o(De,Fe),o(De,Ee),y(K,ae,me),y(K,te,me),o(te,ie),o(ie,re),o(re,oe),o(oe,he),o(re,pe),o(re,Ie),o(Ie,se),o(re,qe),o(re,Pe),o(Pe,Re),o(te,Ze),Z&&Z.m(te,null),xe||(Ye=[z(oe,"click",n[10]),z(Ie,"click",n[11]),z(Pe,"click",n[12])],xe=!0)},p(K,me){de===(de=$e(K))&&je?je.p(K,me):(je.d(1),je=de(K),je&&(je.c(),je.m(t,l))),K[0].displayName?be?be.p(K,me):(be=Fl(K),be.c(),be.m(i,r)):be&&(be.d(1),be=null),me&1&&u!==(u=K[0].handle+"")&&j(b,u),me&2&&h!==(h=K[1].length+"")&&j(g,h),me&4&&N!==(N=K[2].length+"")&&j(P,N),me&8&&E!==(E=K[3].length+"")&&j(T,E),me&16&&Y!==(Y=K[4].length+"")&&j(ue,Y),me&32&&Me!==(Me=K[5].length+"")&&j(we,Me),me&256&&fe!==(fe="flex-1 py-3 px-4 text-center font-medium transition-colors "+(K[8]==="brews"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800"))&&a(oe,"class",fe),me&256&&ee!==(ee="flex-1 py-3 px-4 text-center font-medium transition-colors "+(K[8]==="beans"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800"))&&a(Ie,"class",ee),me&256&&Se!==(Se="flex-1 py-3 px-4 text-center font-medium transition-colors "+(K[8]==="gear"?"border-b-2 border-brown-700 text-brown-900":"text-brown-600 hover:text-brown-800"))&&a(Pe,"class",Se),q===(q=Ce(K))&&Z?Z.p(K,me):(Z&&Z.d(1),Z=q&&q(K),Z&&(Z.c(),Z.m(te,null)))},d(K){K&&(k(e),k(d),k(p),k(ae),k(te)),je.d(),be&&be.d(),Z&&Z.d(),xe=!1,ce(Ye)}}}function pi(n){let e,t,l;return{c(){e=f("div"),t=C("Error: "),l=C(n[7]),a(e,"class","bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded")},m(i,r){y(i,e,r),o(e,t),o(e,l)},p(i,r){r&128&&j(l,i[7])},d(i){i&&k(e)}}}function _i(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-brown-900"></div> <p class="mt-4 text-brown-700">Loading profile...</p>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function mi(n){let e;return{c(){e=f("div"),e.innerHTML='<span class="text-brown-600 text-2xl">?</span>',a(e,"class","w-20 h-20 rounded-full bg-brown-300 flex items-center justify-center")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function wi(n){let e,t;return{c(){e=f("img"),gt(e.src,t=n[0].avatar)||a(e,"src",t),a(e,"alt",""),a(e,"class","w-20 h-20 rounded-full object-cover border-2 border-brown-300")},m(l,i){y(l,e,i)},p(l,i){i&1&&!gt(e.src,t=l[0].avatar)&&a(e,"src",t)},d(l){l&&k(e)}}}function Fl(n){let e,t=n[0].displayName+"",l;return{c(){e=f("h1"),l=C(t),a(e,"class","text-2xl font-bold text-brown-900")},m(i,r){y(i,e,r),o(e,l)},p(i,r){r&1&&t!==(t=i[0].displayName+"")&&j(l,t)},d(i){i&&k(e)}}}function hi(n){let e,t,l,i=n[4].length>0&&Rl(n),r=n[5].length>0&&Hl(n),s=n[4].length===0&&n[5].length===0&&Gl();return{c(){e=f("div"),i&&i.c(),t=w(),r&&r.c(),l=w(),s&&s.c(),a(e,"class","space-y-6")},m(c,u){y(c,e,u),i&&i.m(e,null),o(e,t),r&&r.m(e,null),o(e,l),s&&s.m(e,null)},p(c,u){c[4].length>0?i?i.p(c,u):(i=Rl(c),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c[5].length>0?r?r.p(c,u):(r=Hl(c),r.c(),r.m(e,l)):r&&(r.d(1),r=null),c[4].length===0&&c[5].length===0?s||(s=Gl(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(c){c&&k(e),i&&i.d(),r&&r.d(),s&&s.d()}}}function gi(n){let e,t,l,i=n[2].length>0&&Il(n),r=n[3].length>0&&Wl(n),s=n[2].length===0&&n[3].length===0&&Yl();return{c(){e=f("div"),i&&i.c(),t=w(),r&&r.c(),l=w(),s&&s.c(),a(e,"class","space-y-6")},m(c,u){y(c,e,u),i&&i.m(e,null),o(e,t),r&&r.m(e,null),o(e,l),s&&s.m(e,null)},p(c,u){c[2].length>0?i?i.p(c,u):(i=Il(c),i.c(),i.m(e,t)):i&&(i.d(1),i=null),c[3].length>0?r?r.p(c,u):(r=Wl(c),r.c(),r.m(e,l)):r&&(r.d(1),r=null),c[2].length===0&&c[3].length===0?s||(s=Yl(),s.c(),s.m(e,null)):s&&(s.d(1),s=null)},d(c){c&&k(e),i&&i.d(),r&&r.d(),s&&s.d()}}}function vi(n){let e;function t(r,s){return r[1].length===0?Ci:xi}let l=t(n),i=l(n);return{c(){i.c(),e=ft()},m(r,s){i.m(r,s),y(r,e,s)},p(r,s){l===(l=t(r))&&i?i.p(r,s):(i.d(1),i=l(r),i&&(i.c(),i.m(e.parentNode,e)))},d(r){r&&k(e),i.d(r)}}}function Rl(n){let e,t,l,i,r,s,c,u,b=le(n[4]),d=[];for(let p=0;p<b.length;p+=1)d[p]=jl(Ml(n,b,p));return{c(){e=f("div"),t=f("h3"),t.textContent="‚öôÔ∏è Grinders",l=w(),i=f("div"),r=f("table"),s=f("thead"),s.innerHTML='<tr><th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Name</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üîß Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üíé Burrs</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üìù Notes</th></tr>',c=w(),u=f("tbody");for(let p=0;p<d.length;p+=1)d[p].c();a(t,"class","text-lg font-semibold text-brown-900 mb-3"),a(s,"class","bg-brown-200/80"),a(u,"class","bg-brown-50/60 divide-y divide-brown-200"),a(r,"class","min-w-full divide-y divide-brown-300"),a(i,"class","overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300")},m(p,_){y(p,e,_),o(e,t),o(e,l),o(e,i),o(i,r),o(r,s),o(r,c),o(r,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null)},p(p,_){if(_&16){b=le(p[4]);let m;for(m=0;m<b.length;m+=1){const h=Ml(p,b,m);d[m]?d[m].p(h,_):(d[m]=jl(h),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=b.length}},d(p){p&&k(e),Ge(d,p)}}}function jl(n){let e,t,l=n[26].name+"",i,r,s,c=(n[26].grinder_type||"-")+"",u,b,d,p=(n[26].burr_type||"-")+"",_,m,h,g=(n[26].notes||"-")+"",B,v;return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),h=f("td"),B=C(g),v=w(),a(t,"class","px-6 py-4 text-sm font-bold text-brown-900"),a(s,"class","px-6 py-4 text-sm text-brown-900"),a(d,"class","px-6 py-4 text-sm text-brown-900"),a(h,"class","px-6 py-4 text-sm text-brown-700 italic max-w-xs"),a(e,"class","hover:bg-brown-100/60 transition-colors")},m(x,S){y(x,e,S),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m),o(e,h),o(h,B),o(e,v)},p(x,S){S&16&&l!==(l=x[26].name+"")&&j(i,l),S&16&&c!==(c=(x[26].grinder_type||"-")+"")&&j(u,c),S&16&&p!==(p=(x[26].burr_type||"-")+"")&&j(_,p),S&16&&g!==(g=(x[26].notes||"-")+"")&&j(B,g)},d(x){x&&k(e)}}}function Hl(n){let e,t,l,i,r,s,c,u,b=le(n[5]),d=[];for(let p=0;p<b.length;p+=1)d[p]=zl(Ol(n,b,p));return{c(){e=f("div"),t=f("h3"),t.textContent="‚òï Brewers",l=w(),i=f("div"),r=f("table"),s=f("thead"),s.innerHTML='<tr><th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Name</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üîß Type</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üìù Description</th></tr>',c=w(),u=f("tbody");for(let p=0;p<d.length;p+=1)d[p].c();a(t,"class","text-lg font-semibold text-brown-900 mb-3"),a(s,"class","bg-brown-200/80"),a(u,"class","bg-brown-50/60 divide-y divide-brown-200"),a(r,"class","min-w-full divide-y divide-brown-300"),a(i,"class","overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300")},m(p,_){y(p,e,_),o(e,t),o(e,l),o(e,i),o(i,r),o(r,s),o(r,c),o(r,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null)},p(p,_){if(_&32){b=le(p[5]);let m;for(m=0;m<b.length;m+=1){const h=Ol(p,b,m);d[m]?d[m].p(h,_):(d[m]=zl(h),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=b.length}},d(p){p&&k(e),Ge(d,p)}}}function zl(n){let e,t,l=n[23].name+"",i,r,s,c=(n[23].brewer_type||"-")+"",u,b,d,p=(n[23].description||"-")+"",_,m;return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),a(t,"class","px-6 py-4 text-sm font-bold text-brown-900"),a(s,"class","px-6 py-4 text-sm text-brown-900"),a(d,"class","px-6 py-4 text-sm text-brown-700 italic max-w-xs"),a(e,"class","hover:bg-brown-100/60 transition-colors")},m(h,g){y(h,e,g),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m)},p(h,g){g&32&&l!==(l=h[23].name+"")&&j(i,l),g&32&&c!==(c=(h[23].brewer_type||"-")+"")&&j(u,c),g&32&&p!==(p=(h[23].description||"-")+"")&&j(_,p)},d(h){h&&k(e)}}}function Gl(n){let e;return{c(){e=f("div"),e.innerHTML='<p class="font-medium">No gear added yet.</p>',a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 text-center text-brown-800 border border-brown-300")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function Il(n){let e,t,l,i,r,s,c,u,b=le(n[2]),d=[];for(let p=0;p<b.length;p+=1)d[p]=Ul(Pl(n,b,p));return{c(){e=f("div"),t=f("h3"),t.textContent="‚òï Coffee Beans",l=w(),i=f("div"),r=f("table"),s=f("thead"),s.innerHTML='<tr><th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">Name</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">‚òï Roaster</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">üìç Origin</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">üî• Roast</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">üå± Process</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider whitespace-nowrap">üìù Description</th></tr>',c=w(),u=f("tbody");for(let p=0;p<d.length;p+=1)d[p].c();a(t,"class","text-lg font-semibold text-brown-900 mb-3"),a(s,"class","bg-brown-200/80"),a(u,"class","bg-brown-50/60 divide-y divide-brown-200"),a(r,"class","min-w-full divide-y divide-brown-300"),a(i,"class","overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300")},m(p,_){y(p,e,_),o(e,t),o(e,l),o(e,i),o(i,r),o(r,s),o(r,c),o(r,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null)},p(p,_){if(_&4){b=le(p[2]);let m;for(m=0;m<b.length;m+=1){const h=Pl(p,b,m);d[m]?d[m].p(h,_):(d[m]=Ul(h),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=b.length}},d(p){p&&k(e),Ge(d,p)}}}function Ul(n){var F;let e,t,l=(n[20].name||n[20].origin)+"",i,r,s,c=(((F=n[20].roaster)==null?void 0:F.name)||"-")+"",u,b,d,p=(n[20].origin||"-")+"",_,m,h,g=(n[20].roast_level||"-")+"",B,v,x,S=(n[20].process||"-")+"",A,N,P,L=(n[20].description||"-")+"",O,D;return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),h=f("td"),B=C(g),v=w(),x=f("td"),A=C(S),N=w(),P=f("td"),O=C(L),D=w(),a(t,"class","px-6 py-4 text-sm font-bold text-brown-900"),a(s,"class","px-6 py-4 text-sm text-brown-900"),a(d,"class","px-6 py-4 text-sm text-brown-900"),a(h,"class","px-6 py-4 text-sm text-brown-900"),a(x,"class","px-6 py-4 text-sm text-brown-900"),a(P,"class","px-6 py-4 text-sm text-brown-700 italic max-w-xs"),a(e,"class","hover:bg-brown-100/60 transition-colors")},m(G,E){y(G,e,E),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m),o(e,h),o(h,B),o(e,v),o(e,x),o(x,A),o(e,N),o(e,P),o(P,O),o(e,D)},p(G,E){var T;E&4&&l!==(l=(G[20].name||G[20].origin)+"")&&j(i,l),E&4&&c!==(c=(((T=G[20].roaster)==null?void 0:T.name)||"-")+"")&&j(u,c),E&4&&p!==(p=(G[20].origin||"-")+"")&&j(_,p),E&4&&g!==(g=(G[20].roast_level||"-")+"")&&j(B,g),E&4&&S!==(S=(G[20].process||"-")+"")&&j(A,S),E&4&&L!==(L=(G[20].description||"-")+"")&&j(O,L)},d(G){G&&k(e)}}}function Wl(n){let e,t,l,i,r,s,c,u,b=le(n[3]),d=[];for(let p=0;p<b.length;p+=1)d[p]=ql(El(n,b,p));return{c(){e=f("div"),t=f("h3"),t.textContent="üè≠ Favorite Roasters",l=w(),i=f("div"),r=f("table"),s=f("thead"),s.innerHTML='<tr><th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">Name</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üìç Location</th> <th class="px-6 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üåê Website</th></tr>',c=w(),u=f("tbody");for(let p=0;p<d.length;p+=1)d[p].c();a(t,"class","text-lg font-semibold text-brown-900 mb-3"),a(s,"class","bg-brown-200/80"),a(u,"class","bg-brown-50/60 divide-y divide-brown-200"),a(r,"class","min-w-full divide-y divide-brown-300"),a(i,"class","overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300")},m(p,_){y(p,e,_),o(e,t),o(e,l),o(e,i),o(i,r),o(r,s),o(r,c),o(r,u);for(let m=0;m<d.length;m+=1)d[m]&&d[m].m(u,null)},p(p,_){if(_&8){b=le(p[3]);let m;for(m=0;m<b.length;m+=1){const h=El(p,b,m);d[m]?d[m].p(h,_):(d[m]=ql(h),d[m].c(),d[m].m(u,null))}for(;m<d.length;m+=1)d[m].d(1);d.length=b.length}},d(p){p&&k(e),Ge(d,p)}}}function ki(n){let e;return{c(){e=C("-")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function yi(n){let e,t,l;return{c(){e=f("a"),t=C("Visit Site"),a(e,"href",l=n[17].website),a(e,"target","_blank"),a(e,"rel","noopener noreferrer"),a(e,"class","text-brown-700 hover:underline font-medium")},m(i,r){y(i,e,r),o(e,t)},p(i,r){r&8&&l!==(l=i[17].website)&&a(e,"href",l)},d(i){i&&k(e)}}}function ql(n){let e,t,l=n[17].name+"",i,r,s,c=(n[17].location||"-")+"",u,b,d,p;function _(g,B){return g[17].website?yi:ki}let m=_(n),h=m(n);return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),h.c(),p=w(),a(t,"class","px-6 py-4 text-sm font-bold text-brown-900"),a(s,"class","px-6 py-4 text-sm text-brown-900"),a(d,"class","px-6 py-4 text-sm text-brown-900"),a(e,"class","hover:bg-brown-100/60 transition-colors")},m(g,B){y(g,e,B),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),h.m(d,null),o(e,p)},p(g,B){B&8&&l!==(l=g[17].name+"")&&j(i,l),B&8&&c!==(c=(g[17].location||"-")+"")&&j(u,c),m===(m=_(g))&&h?h.p(g,B):(h.d(1),h=m(g),h&&(h.c(),h.m(d,null)))},d(g){g&&k(e),h.d()}}}function Yl(n){let e;return{c(){e=f("div"),e.innerHTML='<p class="font-medium">No beans or roasters yet.</p>',a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 text-center text-brown-800 border border-brown-300")},m(t,l){y(t,e,l)},d(t){t&&k(e)}}}function xi(n){let e,t,l,i,r,s=le(n[1]),c=[];for(let u=0;u<s.length;u+=1)c[u]=Vl(Dl(n,s,u));return{c(){e=f("div"),t=f("table"),l=f("thead"),l.innerHTML='<tr><th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üìÖ Date</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">‚òï Bean</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">ü´ñ Method</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">üìù Notes</th> <th class="px-4 py-3 text-left text-xs font-medium text-brown-900 uppercase tracking-wider">‚≠ê Rating</th></tr>',i=w(),r=f("tbody");for(let u=0;u<c.length;u+=1)c[u].c();a(l,"class","bg-brown-200/80"),a(r,"class","bg-brown-50/60 divide-y divide-brown-200"),a(t,"class","min-w-full divide-y divide-brown-300"),a(e,"class","overflow-x-auto bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl border border-brown-300")},m(u,b){y(u,e,b),o(e,t),o(t,l),o(t,i),o(t,r);for(let d=0;d<c.length;d+=1)c[d]&&c[d].m(r,null)},p(u,b){if(b&2){s=le(u[1]);let d;for(d=0;d<s.length;d+=1){const p=Dl(u,s,d);c[d]?c[d].p(p,b):(c[d]=Vl(p),c[d].c(),c[d].m(r,null))}for(;d<c.length;d+=1)c[d].d(1);c.length=s.length}},d(u){u&&k(e),Ge(c,u)}}}function Ci(n){let e;return{c(){e=f("div"),e.innerHTML='<p class="text-brown-800 text-lg font-medium">No brews yet.</p>',a(e,"class","bg-gradient-to-br from-brown-100 to-brown-200 rounded-xl shadow-xl p-8 text-center border border-brown-300")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Bi(n){let e;return{c(){e=f("span"),e.textContent="-",a(e,"class","text-brown-400")},m(t,l){y(t,e,l)},p:W,d(t){t&&k(e)}}}function Ai(n){let e,t,l=n[14].rating+"",i,r;return{c(){e=f("span"),t=C("‚≠ê "),i=C(l),r=C("/10"),a(e,"class","inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-amber-100 text-amber-900")},m(s,c){y(s,e,c),o(e,t),o(e,i),o(e,r)},p(s,c){c&2&&l!==(l=s[14].rating+"")&&j(i,l)},d(s){s&&k(e)}}}function Vl(n){var L,O,D;let e,t,l=Kl(n[14].created_at)+"",i,r,s,c=(((L=n[14].bean)==null?void 0:L.name)||((O=n[14].bean)==null?void 0:O.origin)||"Unknown")+"",u,b,d,p=(((D=n[14].brewer_obj)==null?void 0:D.name)||"-")+"",_,m,h,g=(n[14].tasting_notes||"-")+"",B,v,x,S;function A(F,G){return F[14].rating?Ai:Bi}let N=A(n),P=N(n);return{c(){e=f("tr"),t=f("td"),i=C(l),r=w(),s=f("td"),u=C(c),b=w(),d=f("td"),_=C(p),m=w(),h=f("td"),B=C(g),v=w(),x=f("td"),P.c(),S=w(),a(t,"class","px-4 py-3 text-sm text-brown-900"),a(s,"class","px-4 py-3 text-sm font-bold text-brown-900"),a(d,"class","px-4 py-3 text-sm text-brown-900"),a(h,"class","px-4 py-3 text-sm text-brown-700 truncate max-w-xs"),a(x,"class","px-4 py-3 text-sm text-brown-900"),a(e,"class","hover:bg-brown-100/60 transition-colors")},m(F,G){y(F,e,G),o(e,t),o(t,i),o(e,r),o(e,s),o(s,u),o(e,b),o(e,d),o(d,_),o(e,m),o(e,h),o(h,B),o(e,v),o(e,x),P.m(x,null),o(e,S)},p(F,G){var E,T,R;G&2&&l!==(l=Kl(F[14].created_at)+"")&&j(i,l),G&2&&c!==(c=(((E=F[14].bean)==null?void 0:E.name)||((T=F[14].bean)==null?void 0:T.origin)||"Unknown")+"")&&j(u,c),G&2&&p!==(p=(((R=F[14].brewer_obj)==null?void 0:R.name)||"-")+"")&&j(_,p),G&2&&g!==(g=(F[14].tasting_notes||"-")+"")&&j(B,g),N===(N=A(F))&&P?P.p(F,G):(P.d(1),P=N(F),P&&(P.c(),P.m(x,null)))},d(F){F&&k(e),P.d()}}}function Si(n){var c,u;let e,t,l;document.title=e=(((c=n[0])==null?void 0:c.displayName)||((u=n[0])==null?void 0:u.handle)||"Profile")+" - Arabica";function i(b,d){if(b[6])return _i;if(b[7])return pi;if(b[0])return bi}let r=i(n),s=r&&r(n);return{c(){t=w(),l=f("div"),s&&s.c(),a(l,"class","max-w-4xl mx-auto")},m(b,d){y(b,t,d),y(b,l,d),s&&s.m(l,null)},p(b,[d]){var p,_;d&1&&e!==(e=(((p=b[0])==null?void 0:p.displayName)||((_=b[0])==null?void 0:_.handle)||"Profile")+" - Arabica")&&(document.title=e),r===(r=i(b))&&s?s.p(b,d):(s&&s.d(1),s=r&&r(b),s&&(s.c(),s.m(l,null)))},i:W,o:W,d(b){b&&(k(t),k(l)),s&&s.d()}}}function Kl(n){return new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}function Ni(n,e,t){let{actor:l}=e,i=null,r=[],s=[],c=[],u=[],b=[],d=!1,p=!0,_=null,m="brews";vt(async()=>{try{const v=await ge.get(`/api/profile-json/${l}`);t(0,i=v.profile),t(1,r=(v.brews||[]).sort((x,S)=>new Date(S.created_at)-new Date(x.created_at))),t(2,s=v.beans||[]),t(3,c=v.roasters||[]),t(4,u=v.grinders||[]),t(5,b=v.brewers||[]),d=v.isOwnProfile||!1}catch(v){console.error("Failed to load profile:",v),t(7,_=v.message)}finally{t(6,p=!1)}});const h=()=>t(8,m="brews"),g=()=>t(8,m="beans"),B=()=>t(8,m="gear");return n.$$set=v=>{"actor"in v&&t(9,l=v.actor)},[i,r,s,c,u,b,p,_,m,l,h,g,B]}class Ti extends Xe{constructor(e){super(),Qe(this,e,Ni,Si,We,{actor:9})}}function Li(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S;return{c(){e=f("div"),t=f("div"),l=f("h1"),l.textContent="About Arabica",i=w(),r=f("div"),s=f("p"),s.textContent="Arabica is a coffee brew tracking application that leverages the AT Protocol for decentralized data storage.",c=w(),u=f("h2"),u.textContent="Features",b=w(),d=f("ul"),d.innerHTML='<li class="flex items-start"><span class="mr-2">üîí</span> <span><strong>Decentralized:</strong> Your data lives in your Personal Data Server (PDS)</span></li> <li class="flex items-start"><span class="mr-2">üöÄ</span> <span><strong>Portable:</strong> Own your coffee brewing history</span></li> <li class="flex items-start"><span class="mr-2">üìä</span> <span>Track brewing variables like temperature, time, and grind size</span></li> <li class="flex items-start"><span class="mr-2">üåç</span> <span>Organize beans by origin and roaster</span></li> <li class="flex items-start"><span class="mr-2">üìù</span> <span>Add tasting notes and ratings to each brew</span></li>',p=w(),_=f("h2"),_.textContent="AT Protocol",m=w(),h=f("p"),h.textContent=`The Authenticated Transfer Protocol (AT Protocol) is a decentralized social networking protocol
        that gives you full ownership of your data. Your brewing records are stored in your own PDS,
        not in Arabica's servers.`,g=w(),B=f("div"),v=f("button"),v.textContent="Get Started",a(l,"class","text-3xl font-bold text-brown-900 mb-6"),a(s,"class","text-lg text-brown-800 mb-4"),a(u,"class","text-2xl font-bold text-brown-900 mt-8 mb-4"),a(d,"class","space-y-2 text-brown-800"),a(_,"class","text-2xl font-bold text-brown-900 mt-8 mb-4"),a(h,"class","text-brown-800 mb-4"),a(v,"class","bg-gradient-to-r from-brown-700 to-brown-800 text-white px-6 py-3 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg"),a(B,"class","mt-8"),a(r,"class","prose prose-brown max-w-none"),a(t,"class","bg-gradient-to-br from-amber-50 to-brown-100 rounded-xl p-8 border-2 border-brown-300 shadow-lg"),a(e,"class","max-w-4xl mx-auto")},m(A,N){y(A,e,N),o(e,t),o(t,l),o(t,i),o(t,r),o(r,s),o(r,c),o(r,u),o(r,b),o(r,d),o(r,p),o(r,_),o(r,m),o(r,h),o(r,g),o(r,B),o(B,v),x||(S=z(v,"click",n[0]),x=!0)},p:W,i:W,o:W,d(A){A&&k(e),x=!1,S()}}}function Oi(n){return[()=>_e("/")]}class Mi extends Xe{constructor(e){super(),Qe(this,e,Oi,Li,We,{})}}function Ei(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P,L,O,D,F,G,E,T,R;return{c(){e=f("div"),t=f("div"),l=f("h1"),l.textContent="Terms of Service",i=w(),r=f("div"),s=f("p"),s.textContent=`Last updated: ${new Date().toLocaleDateString()}`,c=w(),u=f("h2"),u.textContent="1. Acceptance of Terms",b=w(),d=f("p"),d.textContent=`By accessing and using Arabica, you accept and agree to be bound by the
        terms and provision of this agreement.`,p=w(),_=f("h2"),_.textContent="2. Alpha Software Notice",m=w(),h=f("p"),h.textContent=`Arabica is currently in alpha testing. Features, data structures, and
        functionality may change without notice. We recommend backing up your
        data regularly.`,g=w(),B=f("h2"),B.textContent="3. Data Storage",v=w(),x=f("p"),x.textContent=`Your brewing data is stored in your Personal Data Server (PDS) via the
        AT Protocol. Arabica does not store your brewing records on its servers.
        You are responsible for the security and backup of your PDS.`,S=w(),A=f("h2"),A.textContent="4. User Responsibilities",N=w(),P=f("p"),P.textContent=`You are responsible for maintaining the confidentiality of your account
        credentials and for all activities that occur under your account.`,L=w(),O=f("h2"),O.textContent="5. Limitation of Liability",D=w(),F=f("p"),F.textContent=`Arabica is provided "as is" without warranty of any kind. We are not
        liable for any data loss, service interruptions, or other damages
        arising from your use of the application.`,G=w(),E=f("h2"),E.textContent="6. Changes to Terms",T=w(),R=f("p"),R.textContent=`We reserve the right to modify these terms at any time. Continued use of
        Arabica after changes constitutes acceptance of the modified terms.`,a(l,"class","text-3xl font-bold text-brown-900 mb-6"),a(s,"class","text-sm text-brown-600 italic"),a(u,"class","text-2xl font-bold text-brown-900 mt-8"),a(_,"class","text-2xl font-bold text-brown-900 mt-8"),a(B,"class","text-2xl font-bold text-brown-900 mt-8"),a(A,"class","text-2xl font-bold text-brown-900 mt-8"),a(O,"class","text-2xl font-bold text-brown-900 mt-8"),a(E,"class","text-2xl font-bold text-brown-900 mt-8"),a(r,"class","prose prose-brown max-w-none text-brown-800 space-y-4"),a(t,"class","bg-white rounded-xl p-8 shadow-lg"),a(e,"class","max-w-4xl mx-auto")},m(V,X){y(V,e,X),o(e,t),o(t,l),o(t,i),o(t,r),o(r,s),o(r,c),o(r,u),o(r,b),o(r,d),o(r,p),o(r,_),o(r,m),o(r,h),o(r,g),o(r,B),o(r,v),o(r,x),o(r,S),o(r,A),o(r,N),o(r,P),o(r,L),o(r,O),o(r,D),o(r,F),o(r,G),o(r,E),o(r,T),o(r,R)},p:W,i:W,o:W,d(V){V&&k(e)}}}class Pi extends Xe{constructor(e){super(),Qe(this,e,null,Ei,We,{})}}function Di(n){let e;return{c(){e=f("div"),e.innerHTML='<div class="text-6xl mb-4">‚òï</div> <h1 class="text-4xl font-bold text-brown-900 mb-4">404 - Not Found</h1> <p class="text-brown-700 mb-8">The page you&#39;re looking for doesn&#39;t exist.</p> <a href="/" class="bg-gradient-to-r from-brown-700 to-brown-800 text-white px-6 py-3 rounded-lg hover:from-brown-800 hover:to-brown-900 transition-all font-semibold shadow-lg inline-block">Go Home</a>',a(e,"class","text-center py-12")},m(t,l){y(t,e,l)},p:W,i:W,o:W,d(t){t&&k(e)}}}class Fi extends Xe{constructor(e){super(),Qe(this,e,null,Di,We,{})}}function Jl(n){let e,t,l,i,r,s,c,u,b;function d(h,g){var B;return(B=h[2])!=null&&B.avatar?ji:Ri}let p=d(n),_=p(n),m=n[0]&&Ql(n);return{c(){e=f("div"),t=f("button"),_.c(),l=w(),i=_n("svg"),r=_n("path"),c=w(),m&&m.c(),a(r,"stroke-linecap","round"),a(r,"stroke-linejoin","round"),a(r,"stroke-width","2"),a(r,"d","M19 9l-7 7-7-7"),a(i,"class",s="w-4 h-4 transition-transform "+(n[0]?"rotate-180":"")),a(i,"fill","none"),a(i,"stroke","currentColor"),a(i,"viewBox","0 0 24 24"),a(t,"class","flex items-center gap-2 hover:opacity-80 transition focus:outline-none"),a(t,"aria-label","User menu"),a(e,"class","relative user-menu")},m(h,g){y(h,e,g),o(e,t),_.m(t,null),o(t,l),o(t,i),o(i,r),o(e,c),m&&m.m(e,null),u||(b=z(t,"click",dr(n[3])),u=!0)},p(h,g){p===(p=d(h))&&_?_.p(h,g):(_.d(1),_=p(h),_&&(_.c(),_.m(t,l))),g&1&&s!==(s="w-4 h-4 transition-transform "+(h[0]?"rotate-180":""))&&a(i,"class",s),h[0]?m?m.p(h,g):(m=Ql(h),m.c(),m.m(e,null)):m&&(m.d(1),m=null)},d(h){h&&k(e),_.d(),m&&m.d(),u=!1,b()}}}function Ri(n){var r;let e,t,l=((r=n[2])!=null&&r.displayName?n[2].displayName.charAt(0).toUpperCase():"?")+"",i;return{c(){e=f("div"),t=f("span"),i=C(l),a(t,"class","text-sm font-medium"),a(e,"class","w-8 h-8 rounded-full bg-brown-600 flex items-center justify-center ring-2 ring-brown-500")},m(s,c){y(s,e,c),o(e,t),o(t,i)},p(s,c){var u;c&4&&l!==(l=((u=s[2])!=null&&u.displayName?s[2].displayName.charAt(0).toUpperCase():"?")+"")&&j(i,l)},d(s){s&&k(e)}}}function ji(n){let e,t;return{c(){e=f("img"),gt(e.src,t=n[2].avatar)||a(e,"src",t),a(e,"alt",""),a(e,"class","w-8 h-8 rounded-full object-cover ring-2 ring-brown-600")},m(l,i){y(l,e,i)},p(l,i){i&4&&!gt(e.src,t=l[2].avatar)&&a(e,"src",t)},d(l){l&&k(e)}}}function Ql(n){var x;let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v=((x=n[2])==null?void 0:x.handle)&&Xl(n);return{c(){var S,A;e=f("div"),v&&v.c(),t=w(),l=f("a"),i=C("View Profile"),s=w(),c=f("a"),c.textContent="My Brews",u=w(),b=f("a"),b.textContent="Manage Records",d=w(),p=f("a"),p.textContent="Settings (coming soon)",_=w(),m=f("div"),h=f("button"),h.textContent="Logout",a(l,"href",r="/profile/"+(((S=n[2])==null?void 0:S.handle)||((A=n[2])==null?void 0:A.did))),a(l,"class","block px-4 py-2 text-sm text-brown-700 hover:bg-brown-50 transition-colors"),a(c,"href","/brews"),a(c,"class","block px-4 py-2 text-sm text-brown-700 hover:bg-brown-50 transition-colors"),a(b,"href","/manage"),a(b,"class","block px-4 py-2 text-sm text-brown-700 hover:bg-brown-50 transition-colors"),a(p,"href","/settings"),a(p,"class","block px-4 py-2 text-sm text-brown-400 cursor-not-allowed"),a(h,"class","w-full text-left px-4 py-2 text-sm text-brown-700 hover:bg-brown-50 transition-colors"),a(m,"class","border-t border-brown-100 mt-1 pt-1"),a(e,"class","absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-brown-200 py-1 z-50 animate-fade-in svelte-1hp7v65")},m(S,A){y(S,e,A),v&&v.m(e,null),o(e,t),o(e,l),o(l,i),o(e,s),o(e,c),o(e,u),o(e,b),o(e,d),o(e,p),o(e,_),o(e,m),o(m,h),g||(B=[z(l,"click",Ue(n[9])),z(c,"click",Ue(n[10])),z(b,"click",Ue(n[11])),z(p,"click",Ue(n[12])),z(h,"click",n[13])],g=!0)},p(S,A){var N,P,L;(N=S[2])!=null&&N.handle?v?v.p(S,A):(v=Xl(S),v.c(),v.m(e,t)):v&&(v.d(1),v=null),A&4&&r!==(r="/profile/"+(((P=S[2])==null?void 0:P.handle)||((L=S[2])==null?void 0:L.did)))&&a(l,"href",r)},d(S){S&&k(e),v&&v.d(),g=!1,ce(B)}}}function Xl(n){let e,t,l=(n[2].displayName||n[2].handle)+"",i,r,s,c,u=n[2].handle+"",b;return{c(){e=f("div"),t=f("p"),i=C(l),r=w(),s=f("p"),c=C("@"),b=C(u),a(t,"class","text-sm font-medium text-brown-900 truncate"),a(s,"class","text-xs text-brown-500 truncate"),a(e,"class","px-4 py-2 border-b border-brown-100")},m(d,p){y(d,e,p),o(e,t),o(t,i),o(e,r),o(e,s),o(s,c),o(s,b)},p(d,p){p&4&&l!==(l=(d[2].displayName||d[2].handle)+"")&&j(i,l),p&4&&u!==(u=d[2].handle+"")&&j(b,u)},d(d){d&&k(e)}}}function Hi(n){let e,t,l,i,r,s,c,u,b=n[1]&&Jl(n);return{c(){e=f("nav"),t=f("div"),l=f("div"),i=f("a"),i.innerHTML='<h1 class="text-2xl font-bold">‚òï Arabica</h1> <span class="text-xs bg-amber-400 text-brown-900 px-2 py-1 rounded-md font-semibold shadow-sm">ALPHA</span>',r=w(),s=f("div"),b&&b.c(),a(i,"href","/"),a(i,"class","flex items-center gap-2 hover:opacity-80 transition"),a(s,"class","flex items-center gap-4"),a(l,"class","flex items-center justify-between"),a(t,"class","container mx-auto px-4 py-4"),a(e,"class","sticky top-0 z-50 bg-gradient-to-br from-brown-800 to-brown-900 text-white shadow-xl border-b-2 border-brown-600")},m(d,p){y(d,e,p),o(e,t),o(t,l),o(l,i),o(l,r),o(l,s),b&&b.m(s,null),c||(u=[z(window,"click",n[6]),z(i,"click",Ue(n[8]))],c=!0)},p(d,[p]){d[1]?b?b.p(d,p):(b=Jl(d),b.c(),b.m(s,null)):b&&(b.d(1),b=null)},i:W,o:W,d(d){d&&k(e),b&&b.d(),c=!1,ce(u)}}}function zi(n,e,t){let l,i,r;ut(n,pt,v=>t(7,r=v));let s=!1;function c(){t(0,s=!s)}function u(){t(0,s=!1)}async function b(){await pt.logout()}function d(v){s&&!v.target.closest(".user-menu")&&u()}const p=()=>_e("/"),_=()=>{_e(`/profile/${(l==null?void 0:l.handle)||(l==null?void 0:l.did)}`),u()},m=()=>{_e("/brews"),u()},h=()=>{_e("/manage"),u()},g=()=>{_e("/settings"),u()},B=()=>{b(),u()};return n.$$.update=()=>{n.$$.dirty&128&&t(2,l=r.user),n.$$.dirty&128&&t(1,i=r.isAuthenticated)},[s,i,l,c,u,b,d,r,p,_,m,h,g,B]}class Gi extends Xe{constructor(e){super(),Qe(this,e,zi,Hi,We,{})}}function Ii(n){let e,t,l,i,r,s,c,u,b,d,p,_,m,h,g,B,v,x,S,A,N,P,L;return{c(){e=f("footer"),t=f("div"),l=f("div"),i=f("div"),i.innerHTML='<h3 class="text-lg font-bold mb-3 flex items-center gap-2"><span>‚òï</span> <span>Arabica</span></h3> <p class="text-sm text-brown-300">Track your coffee brewing journey with decentralized data storage powered by AT Protocol.</p>',r=w(),s=f("div"),c=f("h4"),c.textContent="Links",u=w(),b=f("ul"),d=f("li"),p=f("a"),p.textContent="About",_=w(),m=f("li"),h=f("a"),h.textContent="Terms of Service",g=w(),B=f("li"),B.innerHTML='<a href="https://github.com/arabica-social/arabica" target="_blank" rel="noopener noreferrer" class="text-brown-300 hover:text-white transition-colors">GitHub</a>',v=w(),x=f("div"),x.innerHTML='<h4 class="font-semibold mb-3">AT Protocol</h4> <p class="text-sm text-brown-300">Your data lives in your Personal Data Server (PDS), giving you full ownership and portability.</p>',S=w(),A=f("div"),N=f("p"),N.textContent=`¬© ${new Date().getFullYear()} Arabica Social. All rights reserved.`,a(c,"class","font-semibold mb-3"),a(p,"href","/about"),a(p,"class","text-brown-300 hover:text-white transition-colors"),a(h,"href","/terms"),a(h,"class","text-brown-300 hover:text-white transition-colors"),a(b,"class","space-y-2 text-sm"),a(l,"class","grid grid-cols-1 md:grid-cols-3 gap-8"),a(A,"class","border-t border-brown-700 mt-8 pt-6 text-center text-sm text-brown-400"),a(t,"class","container mx-auto px-4 py-8"),a(e,"class","bg-brown-800 text-brown-100 mt-12")},m(O,D){y(O,e,D),o(e,t),o(t,l),o(l,i),o(l,r),o(l,s),o(s,c),o(s,u),o(s,b),o(b,d),o(d,p),o(b,_),o(b,m),o(m,h),o(b,g),o(b,B),o(l,v),o(l,x),o(t,S),o(t,A),o(A,N),P||(L=[z(p,"click",Ue(n[0])),z(h,"click",Ue(n[1]))],P=!0)},p:W,i:W,o:W,d(O){O&&k(e),P=!1,ce(L)}}}function Ui(n){return[()=>_e("/about"),()=>_e("/terms")]}class Wi extends Xe{constructor(e){super(),Qe(this,e,Ui,Ii,We,{})}}function Zl(n){let e,t,l;const i=[n[1]];var r=n[0];function s(c,u){let b={};for(let d=0;d<i.length;d+=1)b=tn(b,i[d]);return u!==void 0&&u&2&&(b=tn(b,wn(i,[hn(c[1])]))),{props:b}}return r&&(e=mn(r,s(n))),{c(){e&&it(e.$$.fragment),t=ft()},m(c,u){e&&nt(e,c,u),y(c,t,u),l=!0},p(c,u){if(u&1&&r!==(r=c[0])){if(e){jt();const b=e;Oe(b.$$.fragment,1,0,()=>{lt(b,1)}),Ht()}r?(e=mn(r,s(c,u)),it(e.$$.fragment),ve(e.$$.fragment,1),nt(e,t.parentNode,t)):e=null}else if(r){const b=u&2?wn(i,[hn(c[1])]):{};e.$set(b)}},i(c){l||(e&&ve(e.$$.fragment,c),l=!0)},o(c){e&&Oe(e.$$.fragment,c),l=!1},d(c){c&&k(t),e&&lt(e,c)}}}function qi(n){let e,t,l,i,r,s,c;t=new Gi({});let u=n[0]&&Zl(n);return s=new Wi({}),{c(){e=f("div"),it(t.$$.fragment),l=w(),i=f("main"),u&&u.c(),r=w(),it(s.$$.fragment),a(i,"class","flex-1 container mx-auto px-4 py-8"),a(e,"class","flex flex-col min-h-screen")},m(b,d){y(b,e,d),nt(t,e,null),o(e,l),o(e,i),u&&u.m(i,null),o(e,r),nt(s,e,null),c=!0},p(b,[d]){b[0]?u?(u.p(b,d),d&1&&ve(u,1)):(u=Zl(b),u.c(),ve(u,1),u.m(i,null)):u&&(jt(),Oe(u,1,1,()=>{u=null}),Ht())},i(b){c||(ve(t.$$.fragment,b),ve(u),ve(s.$$.fragment,b),c=!0)},o(b){Oe(t.$$.fragment,b),Oe(u),Oe(s.$$.fragment,b),c=!1},d(b){b&&k(e),lt(t),u&&u.d(),lt(s)}}}function Yi(n,e,t){let l=null,i={};return vt(()=>{pt.checkAuth(),Yt.on("/",()=>{t(0,l=Qr),t(1,i={})}).on("/login",()=>{t(0,l=lo),t(1,i={})}).on("/brews",()=>{t(0,l=_o),t(1,i={})}).on("/brews/new",()=>{t(0,l=vl),t(1,i={mode:"create"})}).on("/brews/:id/edit",r=>{t(0,l=vl),t(1,i={...r,mode:"edit"})}).on("/brews/:did/:rkey",r=>{t(0,l=il),t(1,i=r)}).on("/brews/:id",r=>{t(0,l=il),t(1,i=r)}).on("/manage",()=>{t(0,l=di),t(1,i={})}).on("/profile/:actor",r=>{t(0,l=Ti),t(1,i=r)}).on("/about",()=>{t(0,l=Mi),t(1,i={})}).on("/terms",()=>{t(0,l=Pi),t(1,i={})}).on("*",()=>{t(0,l=Fi),t(1,i={})}),Yt.listen(),Yt.route(window.location.pathname)}),[l,i]}class Vi extends Xe{constructor(e){super(),Qe(this,e,Yi,qi,We,{})}}new Vi({target:document.getElementById("app")});
